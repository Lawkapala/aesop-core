/*
* FitVids 1.0.3
*/(function(e){e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],s="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";r.className="fit-vids-style";r.id="fit-vids-style";r.style.display="none";r.innerHTML=s;i.parentNode.insertBefore(r,i)}t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r=r.not("object object");r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);!function(e,t,n,r){n.swipebox=function(i,s){var o={useCSS:!0,initialIndexOnArray:0,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterClose:null},u=this,a=[],i=i,f=i.selector,l=n(f),c=t.createTouch!==r||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,h=!!e.SVGSVGElement,p=e.innerWidth?e.innerWidth:n(e).width(),d=e.innerHeight?e.innerHeight:n(e).height(),v='<div id="swipebox-overlay">				<div id="swipebox-slider"></div>				<div id="swipebox-caption"></div>				<div id="swipebox-action">					<a id="swipebox-close"></a>					<a id="swipebox-prev"></a>					<a id="swipebox-next"></a>				</div>		</div>';u.settings={};u.init=function(){u.settings=n.extend({},o,s);if(n.isArray(i)){a=i;m.target=n(e);m.init(u.settings.initialIndexOnArray)}else l.click(function(e){a=[];var t,r,i;if(!i){r="rel";i=n(this).attr(r)}i&&i!==""&&i!=="nofollow"?$elem=l.filter("["+r+'="'+i+'"]'):$elem=n(f);$elem.each(function(){var e=null,t=null;n(this).attr("title")&&(e=n(this).attr("title"));n(this).attr("href")&&(t=n(this).attr("href"));a.push({href:t,title:e})});t=$elem.index(n(this));e.preventDefault();e.stopPropagation();m.target=n(e.target);m.init(t)})};u.refresh=function(){if(!n.isArray(i)){m.destroy();$elem=n(f);m.actions()}};var m={init:function(e){u.settings.beforeOpen&&u.settings.beforeOpen();this.target.trigger("swipebox-start");n.swipebox.isOpen=!0;this.build();this.openSlide(e);this.openMedia(e);this.preloadMedia(e+1);this.preloadMedia(e-1)},build:function(){var e=this;n("body").append(v);if(e.doCssTrans()){n("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"});n("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"});n("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s",transition:"0.5s"})}if(h){var t=n("#swipebox-action #swipebox-close").css("background-image");t=t.replace("png","svg");n("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":t})}n.each(a,function(){n("#swipebox-slider").append('<div class="slide"></div>')});e.setDim();e.actions();e.keyboard();e.gesture();e.animBars();e.resize()},setDim:function(){var t,r,i={};if("onorientationchange"in e)e.addEventListener("orientationchange",function(){if(e.orientation==0){t=p;r=d}else if(e.orientation==90||e.orientation==-90){t=d;r=p}},!1);else{t=e.innerWidth?e.innerWidth:n(e).width();r=e.innerHeight?e.innerHeight:n(e).height()}i={width:t,height:r};n("#swipebox-overlay").css(i)},resize:function(){var t=this;n(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(var n=0;n<e.length;n++)if(t.createElement("div").style[e[n]]!==r)return e[n];return!1},doCssTrans:function(){if(u.settings.useCSS&&this.supportTransition())return!0},gesture:function(){if(c){var e=this,t=null,r=10,i={},s={},o=n("#swipebox-caption, #swipebox-action");o.addClass("visible-bars");e.setTimeout();n("body").bind("touchstart",function(e){n(this).addClass("touching");s=e.originalEvent.targetTouches[0];i.pageX=e.originalEvent.targetTouches[0].pageX;n(".touching").bind("touchmove",function(e){e.preventDefault();e.stopPropagation();s=e.originalEvent.targetTouches[0]});return!1}).bind("touchend",function(u){u.preventDefault();u.stopPropagation();t=s.pageX-i.pageX;if(t>=r)e.getPrev();else if(t<=-r)e.getNext();else if(!o.hasClass("visible-bars")){e.showBars();e.setTimeout()}else{e.clearTimeout();e.hideBars()}n(".touching").off("touchmove").removeClass("touching")})}},setTimeout:function(){if(u.settings.hideBarsDelay>0){var t=this;t.clearTimeout();t.timeout=e.setTimeout(function(){t.hideBars()},u.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout);this.timeout=null},showBars:function(){var e=n("#swipebox-caption, #swipebox-action");if(this.doCssTrans())e.addClass("visible-bars");else{n("#swipebox-caption").animate({top:0},500);n("#swipebox-action").animate({bottom:0},500);setTimeout(function(){e.addClass("visible-bars")},1e3)}},hideBars:function(){var e=n("#swipebox-caption, #swipebox-action");if(this.doCssTrans())e.removeClass("visible-bars");else{n("#swipebox-caption").animate({top:"-50px"},500);n("#swipebox-action").animate({bottom:"-50px"},500);setTimeout(function(){e.removeClass("visible-bars")},1e3)}},animBars:function(){var e=this,t=n("#swipebox-caption, #swipebox-action");t.addClass("visible-bars");e.setTimeout();n("#swipebox-slider").click(function(n){if(!t.hasClass("visible-bars")){e.showBars();e.setTimeout()}});n("#swipebox-action").hover(function(){e.showBars();t.addClass("force-visible-bars");e.clearTimeout()},function(){t.removeClass("force-visible-bars");e.setTimeout()})},keyboard:function(){var t=this;n(e).bind("keyup",function(e){e.preventDefault();e.stopPropagation();e.keyCode==37?t.getPrev():e.keyCode==39?t.getNext():e.keyCode==27&&t.closeSlide()})},actions:function(){var e=this;if(a.length<2)n("#swipebox-prev, #swipebox-next").hide();else{n("#swipebox-prev").bind("click touchend",function(t){t.preventDefault();t.stopPropagation();e.getPrev();e.setTimeout()});n("#swipebox-next").bind("click touchend",function(t){t.preventDefault();t.stopPropagation();e.getNext();e.setTimeout()})}n("#swipebox-close").bind("click touchend",function(t){e.closeSlide()})},setSlide:function(e,t){t=t||!1;var r=n("#swipebox-slider");this.doCssTrans()?r.css({left:-e*100+"%"}):r.animate({left:-e*100+"%"});n("#swipebox-slider .slide").removeClass("current");n("#swipebox-slider .slide").eq(e).addClass("current");this.setTitle(e);t&&r.fadeIn();n("#swipebox-prev, #swipebox-next").removeClass("disabled");e==0?n("#swipebox-prev").addClass("disabled"):e==a.length-1&&n("#swipebox-next").addClass("disabled")},openSlide:function(t){n("html").addClass("swipebox");n(e).trigger("resize");this.setSlide(t,!0)},preloadMedia:function(e){var t=this,n=null;a[e]!==r&&(n=a[e].href);t.isVideo(n)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t=this,i=null;a[e]!==r&&(i=a[e].href);if(e<0||e>=a.length)return!1;t.isVideo(i)?n("#swipebox-slider .slide").eq(e).html(t.getVideo(i)):t.loadMedia(i,function(){n("#swipebox-slider .slide").eq(e).html(this)})},setTitle:function(e,t){var i=null;n("#swipebox-caption").empty();a[e]!==r&&(i=a[e].title);i&&n("#swipebox-caption").append(i)},isVideo:function(e){if(e)if(e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/))return!0},getVideo:function(e){var t="",n="",r=e.match(/watch\?v=([a-zA-Z0-9\-_]+)/),i=e.match(/vimeo\.com\/([0-9]*)/);r?t='<iframe width="560" height="315" src="//www.youtube.com/embed/'+r[1]+'" frameborder="0" allowfullscreen></iframe>':i&&(t='<iframe width="560" height="315"  src="http://player.vimeo.com/video/'+i[1]+"?byline=0&amp;portrait=0&amp;color="+u.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');return'<div class="swipebox-video-container" style="max-width:'+u.settings.videomaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(!this.isVideo(e)){var r=n("<img>").on("load",function(){t.call(r)});r.attr("src",e)}},getNext:function(){var e=this;index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));if(index+1<a.length){index++;e.setSlide(index);e.preloadMedia(index+1)}else{n("#swipebox-slider").addClass("rightSpring");setTimeout(function(){n("#swipebox-slider").removeClass("rightSpring")},500)}},getPrev:function(){index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));if(index>0){index--;this.setSlide(index);this.preloadMedia(index-1)}else{n("#swipebox-slider").addClass("leftSpring");setTimeout(function(){n("#swipebox-slider").removeClass("leftSpring")},500)}},closeSlide:function(){n("html").removeClass("swipebox");n(e).trigger("resize");this.destroy()},destroy:function(){n(e).unbind("keyup");n("body").unbind("touchstart");n("body").unbind("touchmove");n("body").unbind("touchend");n("#swipebox-slider").unbind();n("#swipebox-overlay").remove();n.isArray(i)||i.removeData("_swipebox");this.target&&this.target.trigger("swipebox-destroy");n.swipebox.isOpen=!1;u.settings.afterClose&&u.settings.afterClose()}};u.init()};n.fn.swipebox=function(e){if(!n.data(this,"_swipebox")){var t=new n.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;(function(e,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)})(this,function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;i=n(r);c=e.call(r,"ontouchstart")>=0;u={horizontal:{},vertical:{}};a=1;l={};f="waypoints-context-id";d="resize.waypoints";v="scroll.waypoints";m=1;g="waypoints-waypoint-ids";y="waypoint";b="waypoints";s=function(){function e(e){var t=this;this.$element=e;this.element=e[0];this.didResize=!1;this.didScroll=!1;this.id="context"+a++;this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()};this.waypoints={horizontal:{},vertical:{}};e.data(f,this.id);l[this.id]=this;e.bind(v,function(){var e;if(!t.didScroll&&!c){t.didScroll=!0;e=function(){t.doScroll();return t.didScroll=!1};return r.setTimeout(e,n[b].settings.scrollThrottle)}});e.bind(d,function(){var e;if(!t.didResize){t.didResize=!0;e=function(){n[b]("refresh");return t.didResize=!1};return r.setTimeout(e,n[b].settings.resizeThrottle)}})}e.prototype.doScroll=function(){var e,t=this;e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};c&&(!e.vertical.oldScroll||!e.vertical.newScroll)&&n[b]("refresh");n.each(e,function(e,r){var i,s,o;o=[];s=r.newScroll>r.oldScroll;i=s?r.forward:r.backward;n.each(t.waypoints[e],function(e,t){var n,i;if(r.oldScroll<(n=t.offset)&&n<=r.newScroll)return o.push(t);if(r.newScroll<(i=t.offset)&&i<=r.oldScroll)return o.push(t)});o.sort(function(e,t){return e.offset-t.offset});s||o.reverse();return n.each(o,function(e,t){if(t.options.continuous||e===o.length-1)return t.trigger([i])})});return this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}};e.prototype.refresh=function(){var e,t,r,i=this;r=n.isWindow(this.element);t=this.$element.offset();this.doScroll();e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,s,o,u,a;i=r.options.offset;o=r.offset;s=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp];if(n.isFunction(i))i=i.apply(r.element);else if(typeof i=="string"){i=parseFloat(i);r.options.offset.indexOf("%")>-1&&(i=Math.ceil(t.contextDimension*i/100))}r.offset=s-t.contextOffset+t.contextScroll-i;if(r.options.onlyOnScroll&&o!=null||!r.enabled)return;if(o!==null&&o<(u=t.oldScroll)&&u<=r.offset)return r.trigger([t.backward]);if(o!==null&&o>(a=t.oldScroll)&&a>=r.offset)return r.trigger([t.forward]);if(o===null&&t.oldScroll>=r.offset)return r.trigger([t.forward])})})};e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([d,v].join(" "));return delete l[this.id]}};return e}();o=function(){function e(e,t,r){var i,s;r=n.extend({},n.fn[y].defaults,r);r.offset==="bottom-in-view"&&(r.offset=function(){var e;e=n[b]("viewportHeight");n.isWindow(t.element)||(e=t.$element.height());return e-n(this).outerHeight()});this.$element=e;this.element=e[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+m++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;u[this.axis][this.id]=this;i=(s=e.data(g))!=null?s:[];i.push(this.id);e.data(g,i)}e.prototype.trigger=function(e){if(!this.enabled)return;this.callback!=null&&this.callback.apply(this.element,e);if(this.options.triggerOnce)return this.destroy()};e.prototype.disable=function(){return this.enabled=!1};e.prototype.enable=function(){this.context.refresh();return this.enabled=!0};e.prototype.destroy=function(){delete u[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};e.getWaypointsByElement=function(e){var t,r;r=n(e).data(g);if(!r)return[];t=n.extend({},u.horizontal,u.vertical);return n.map(r,function(e){return t[e]})};return e}();p={init:function(e,t){var r;t==null&&(t={});(r=t.handler)==null&&(t.handler=e);this.each(function(){var e,r,i,u;e=n(this);i=(u=t.context)!=null?u:n.fn[y].defaults.context;n.isWindow(i)||(i=e.closest(i));i=n(i);r=l[i.data(f)];r||(r=new s(i));return new o(e,r,t)});n[b]("refresh");return this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,i){var s,o;e==null&&(e="vertical");t==null&&(t=r);o=h.aggregate(t);s=[];this.each(function(){var t;t=n.inArray(this,o[e]);return i(s,t,o[e])});return this.pushStack(s)},_invoke:function(e,t){e.each(function(){var e;e=o.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return!0})});return this}};n.fn[y]=function(){var e,r;r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];return p[r]?p[r].apply(this,e):n.isFunction(r)?p.init.apply(this,arguments):n.isPlainObject(r)?p.init.apply(this,[null,r]):r?n.error("The "+r+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")};n.fn[y].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};h={refresh:function(){return n.each(l,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=r.innerHeight)!=null?e:i.height()},aggregate:function(e){var t,r,i;t=u;e&&(t=(i=l[n(e).data(f)])!=null?i.waypoints:void 0);if(!t)return[];r={horizontal:[],vertical:[]};n.each(r,function(e,i){n.each(t[e],function(e,t){return i.push(t)});i.sort(function(e,t){return e.offset-t.offset});r[e]=n.map(i,function(e){return e.element});return r[e]=n.unique(r[e])});return r},above:function(e){e==null&&(e=r);return h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){e==null&&(e=r);return h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){e==null&&(e=r);return h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){e==null&&(e=r);return h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;t=n.extend({},u.vertical,u.horizontal);return n.each(t,function(t,n){n[e]();return!0})},_filter:function(e,t,r){var i,s;i=l[n(e).data(f)];if(!i)return[];s=[];n.each(i.waypoints[t],function(e,t){if(r(i,t))return s.push(t)});s.sort(function(e,t){return e.offset-t.offset});return n.map(s,function(e){return e.element})}};n[b]=function(){var e,n;n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];return h[n]?h[n].apply(null,e):h.aggregate.call(null,n)};n[b].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[b]("refresh")})})}).call(this);(function(e,t,n){"use strict";function r(n){if(i=t.documentElement,s=t.body,W(),ot=this,n=n||{},ct=n.constants||{},n.easing)for(var r in n.easing)$[r]=n.easing[r];yt=n.edgeStrategy||"set",ft={beforerender:n.beforerender,render:n.render},lt=n.forceHeight!==!1,lt&&(Dt=n.scale||1),ht=n.mobileDeceleration||T,dt=n.smoothScrolling!==!1,vt=n.smoothScrollingDuration||N,mt={targetTop:ot.getScrollTop()},Rt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Rt?(at=t.getElementById("skrollr-body"),at&&st(),J(),kt(i,[y,E],[b])):kt(i,[y,w],[b]),ot.refresh(),Et(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==Ft||e!==jt)&&(Ft=t,jt=e,It=!0)});var o=X();return function u(){G(),wt=o(u)}(),ot}var i,s,o=e.skrollr={get:function(){return ot},init:function(e){return ot||new r(e)},VERSION:"0.6.17"},u=Object.prototype.hasOwnProperty,a=e.Math,f=e.getComputedStyle,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=.004,N=200,C="start",k="end",L="center",A="bottom",O="___skrollable_id",M=/^(?:input|textarea|button|select)$/i,_=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,P=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,H=/^([a-z\-]+)\[(\w+)\]$/,B=/-([a-z])/g,j=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,I=/\{\?\}/g,q=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,R=/[a-z\-]+-gradient/g,U="",z="",W=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(s,null);for(var r in t)if(U=r.match(e)||+r==r&&t[r].match(e))break;if(!U)return U=z="",n;U=U[0],"-"===U.slice(0,1)?(z=U,U={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[U]):z="-"+U.toLowerCase()+"-"}},X=function(){var t=e.requestAnimationFrame||e[U.toLowerCase()+"RequestAnimationFrame"],n=Ot();return(Rt||!t)&&(t=function(t){var r=Ot()-n,i=a.max(0,1e3/60-r);return e.setTimeout(function(){n=Ot(),t()},i)}),t},V=function(){var t=e.cancelAnimationFrame||e[U.toLowerCase()+"CancelAnimationFrame"];return(Rt||!t)&&(t=function(t){return e.clearTimeout(t)}),t},$={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-a.cos(e*a.PI)/2+.5},sqrt:function(e){return a.sqrt(e)},outCubic:function(e){return a.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-a.abs(3*a.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,i,s=!1;for(e===n?(s=!0,ut=[],qt=0,e=t.getElementsByTagName("*")):e=[].concat(e),r=0,i=e.length;i>r;r++){var o=e[r],u=o,a=[],f=dt,l=yt;if(o.attributes){for(var c=0,h=o.attributes.length;h>c;c++){var p=o.attributes[c];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name){var v=p.name.match(D);if(null!==v){var m={props:p.value,element:o};a.push(m);var g=v[1];g=g&&ct[g.substr(1)]||0;var y=v[2];/p$/.test(y)?(m.isPercentage=!0,m.offset=((0|y.slice(0,-1))+g)/100):m.offset=(0|y)+g;var b=v[3],w=v[4]||b;b&&b!==C&&b!==k?(m.mode="relative",m.anchors=[b,w]):(m.mode="absolute",b===k?m.isEnd=!0:m.isPercentage||(m.frame=m.offset*Dt,delete m.offset))}}else l=p.value;else f="off"!==p.value;else if(u=t.querySelector(p.value),null===u)throw'Unable to find anchor target "'+p.value+'"'}if(a.length){var E,S,x;!s&&O in o?(x=o[O],E=ut[x].styleAttr,S=ut[x].classAttr):(x=o[O]=qt++,E=o.style.cssText,S=Ct(o)),ut[x]={element:o,styleAttr:E,classAttr:S,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l},kt(o,[d],[])}}}for(Tt(),r=0,i=e.length;i>r;r++){var T=ut[e[r][O]];T!==n&&(Y(T),et(T))}return ot},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,s=e.getBoundingClientRect(),o=s.top,u=s.bottom-s.top;return t===A?o-=r:t===L&&(o-=r/2),n===A?o+=u:n===L&&(o+=u/2),o+=ot.getScrollTop(),0|o+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=Ot(),i=ot.getScrollTop();return pt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:$[t.easing||S],done:t.done},pt.topDiff||(pt.done&&pt.done.call(ot,!1),pt=n),ot},r.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(ot,!0),pt=n},r.prototype.isAnimatingTo=function(){return!!pt},r.prototype.setScrollTop=function(t,n){return gt=n===!0,Rt?Ut=a.min(a.max(t,0),_t):e.scrollTo(0,t),ot},r.prototype.getScrollTop=function(){return Rt?Ut:e.pageYOffset||i.scrollTop||s.scrollTop||0},r.prototype.getMaxScrollTop=function(){return _t},r.prototype.on=function(e,t){return ft[e]=t,ot},r.prototype.off=function(e){return delete ft[e],ot},r.prototype.destroy=function(){var e=V();e(wt),xt(),kt(i,[b],[y,w,E]);for(var t=0,r=ut.length;r>t;t++)it(ut[t].element);i.style.overflow=s.style.overflow="auto",i.style.height=s.style.height="auto",at&&o.setStyle(at,"transform","none"),ot=n,at=n,ft=n,lt=n,_t=0,Dt=1,ct=n,ht=n,Pt="down",Ht=-1,jt=0,Ft=0,It=!1,pt=n,dt=n,vt=n,mt=n,gt=n,qt=0,yt=n,Rt=!1,Ut=0,bt=n};var J=function(){var r,o,u,f,d,v,m,g,y,b,w,E;Et(i,[l,c,h,p].join(" "),function(e){var i=e.changedTouches[0];for(f=e.target;3===f.nodeType;)f=f.parentNode;switch(d=i.clientY,v=i.clientX,b=e.timeStamp,M.test(f.tagName)||e.preventDefault(),e.type){case l:r&&r.blur(),ot.stopAnimateTo(),r=f,o=m=d,u=v,y=b;break;case c:g=d-m,E=b-w,ot.setScrollTop(Ut-g,!0),m=d,w=b;break;default:case h:case p:var s=o-d,S=u-v,x=S*S+s*s;if(49>x){if(!M.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(T)}return}r=n;var N=g/E;N=a.max(a.min(N,3),-3);var C=a.abs(N/ht),k=N*C+.5*ht*C*C,L=ot.getScrollTop()-k,A=0;L>_t?(A=(_t-L)/k,L=_t):0>L&&(A=-L/k,L=0),C*=1-A,ot.animateTo(0|L+.5,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),i.style.overflow=s.style.overflow="hidden"},K=function(){var e,t,n,r,s,o,u,f,l;for(f=0,l=ut.length;l>f;f++)for(e=ut[f],t=e.element,n=e.anchorTarget,r=e.keyFrames,s=0,o=r.length;o>s;s++){u=r[s];var c=u.offset;u.isPercentage&&(c*=i.clientHeight,u.frame=c),"relative"===u.mode&&(it(t),u.frame=ot.relativeToAbsolute(n,u.anchors[0],u.anchors[1])-c,it(t,!0)),lt&&!u.isEnd&&u.frame>_t&&(_t=u.frame)}for(_t=a.max(_t,Nt()),f=0,l=ut.length;l>f;f++){for(e=ut[f],r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],u.isEnd&&(u.frame=_t-u.offset);e.keyFrames.sort(Mt)}},Q=function(e,t){for(var n=0,r=ut.length;r>n;n++){var i,s,a=ut[n],f=a.element,l=a.smoothScrolling?e:t,c=a.keyFrames,h=c[0].frame,p=c[c.length-1].frame,y=h>l,b=l>p,w=c[y?0:c.length-1];if(y||b){if(y&&-1===a.edge||b&&1===a.edge)continue;switch(kt(f,[y?v:g],[v,m,g]),a.edge=y?-1:1,a.edgeStrategy){case"reset":it(f);continue;case"ease":l=w.frame;break;default:case"set":var E=w.props;for(i in E)u.call(E,i)&&(s=rt(E[i].value),o.setStyle(f,i,s));continue}}else 0!==a.edge&&(kt(f,[d,m],[v,g]),a.edge=0);for(var S=0,x=c.length-1;x>S;S++)if(l>=c[S].frame&&c[S+1].frame>=l){var T=c[S],N=c[S+1];for(i in T.props)if(u.call(T.props,i)){var C=(l-T.frame)/(N.frame-T.frame);C=T.props[i].easing(C),s=nt(T.props[i].value,N.props[i].value,C),s=rt(s),o.setStyle(f,i,s)}break}}},G=function(){It&&(It=!1,Tt());var e,t,r=ot.getScrollTop(),i=Ot();if(pt)i>=pt.endTime?(r=pt.targetTop,e=pt.done,pt=n):(t=pt.easing((i-pt.startTime)/pt.duration),r=0|pt.startTop+t*pt.topDiff),ot.setScrollTop(r,!0);else if(!gt){var s=mt.targetTop-r;s&&(mt={startTop:Ht,topDiff:r-Ht,targetTop:r,startTime:Bt,endTime:Bt+vt}),mt.endTime>=i&&(t=$.sqrt((i-mt.startTime)/vt),r=0|mt.startTop+t*mt.topDiff)}if(Rt&&at&&o.setStyle(at,"transform","translate(0, "+ -Ut+"px) "+bt),gt||Ht!==r){Pt=r>Ht?"down":Ht>r?"up":Pt,gt=!1;var u={curTop:r,lastTop:Ht,maxTop:_t,direction:Pt},a=ft.beforerender&&ft.beforerender.call(ot,u);a!==!1&&(Q(r,ot.getScrollTop()),Ht=r,ft.render&&ft.render.call(ot,u)),e&&e.call(ot,!1)}Bt=i},Y=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,s,o,u=e.keyFrames[t],a={};null!==(o=P.exec(u.props));)s=o[1],i=o[2],r=s.match(H),null!==r?(s=r[1],r=r[2]):r=S,i=i.indexOf("!")?Z(i):[i.slice(1)],a[s]={value:i,easing:$[r]};u.props=a}},Z=function(e){var t=[];return q.lastIndex=0,e=e.replace(q,function(e){return e.replace(F,function(e){return 100*(e/255)+"%"})}),z&&(R.lastIndex=0,e=e.replace(R,function(e){return z+e})),e=e.replace(F,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)tt(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],r)},tt=function(e,t){var n;for(n in t)u.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(r=1;i>r;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},rt=function(e){var t=1;return I.lastIndex=0,e[0].replace(I,function(){return e[t++]})},it=function(e,t){e=[].concat(e);for(var n,r,i=0,s=e.length;s>i;i++)r=e[i],n=ut[r[O]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,kt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ct(r),r.style.cssText=n.styleAttr,kt(r,n.classAttr)))},st=function(){bt="translateZ(0)",o.setStyle(at,"transform",bt);var e=f(at),t=e.getPropertyValue("transform"),n=e.getPropertyValue(z+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(bt="")};o.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,j).replace("-",""),"zIndex"===t)r[t]=isNaN(n)?n:""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{U&&(r[U+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et=o.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),r.call(this,t)};n=n.split(" ");for(var s,o=0,u=n.length;u>o;o++)s=n[o],t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i),zt.push({element:t,name:s,listener:r})},St=o.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},xt=function(){for(var e,t=0,n=zt.length;n>t;t++)e=zt[t],St(e.element,e.name,e.listener);zt=[]},Tt=function(){var e=ot.getScrollTop();_t=0,lt&&!Rt&&(s.style.height="auto"),K(),lt&&!Rt&&(s.style.height=_t+i.clientHeight+"px"),Rt?ot.setScrollTop(a.min(ot.getScrollTop(),_t)):ot.setScrollTop(e,!0),gt=!0},Nt=function(){var e=at&&at.offsetHeight||0,t=a.max(e,s.scrollHeight,s.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},Ct=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},kt=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),i===n)return t[s]=r,n;for(var o=t[s],u=0,a=i.length;a>u;u++)o=At(o).replace(At(i[u])," ");o=Lt(o);for(var f=0,l=r.length;l>f;f++)-1===At(o).indexOf(At(r[f]))&&(o+=" "+r[f]);t[s]=Lt(o)},Lt=function(e){return e.replace(_,"")},At=function(e){return" "+e+" "},Ot=Date.now||function(){return+(new Date)},Mt=function(e,t){return e.frame-t.frame},_t=0,Dt=1,Pt="down",Ht=-1,Bt=Ot(),jt=0,Ft=0,It=!1,qt=0,Rt=!1,Ut=0,zt=[]})(window,document);!function(e,t,n,r,i){"use strict";function s(e){var t="bez_"+r.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof r.easing[t]){var n=function(e,t){var n=[null,null],r=[null,null],i=[null,null],s=function(s,o){return i[o]=3*e[o],r[o]=3*(t[o]-e[o])-i[o],n[o]=1-i[o]-r[o],s*(i[o]+s*(r[o]+s*n[o]))},o=function(e){return i[0]+e*(2*r[0]+3*n[0]*e)},u=function(e){for(var t,n=e,r=0;++r<14&&(t=s(n,0)-e,!(Math.abs(t)<.001));)n-=t/o(n);return n};return function(e){return s(u(e),1)}};r.easing[t]=function(t,r,i,s,o){return s*n([e[0],e[1]],[e[2],e[3]])(r/o)+i}}return t}function o(){}function u(e,t,n){return Math.max(isNaN(t)?-1/0:t,Math.min(isNaN(n)?1/0:n,e))}function a(e){return e.match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]}function f(e){return Ln?+a(e.css("transform")):+e.css("left").replace("px","")}function l(e,t){var n={};return Ln?n.transform="translate3d("+(e+(t?.001:0))+"px,0,0)":n.left=e,n}function c(e){return{"transition-duration":e+"ms"}}function h(e,t){return+String(e).replace(t||"px","")||i}function p(e){return/%$/.test(e)&&h(e,"%")}function d(e){return(!!h(e)||!!h(e,"%"))&&e}function v(e,t,n,r){return(e-(r||0))*(t+(n||0))}function m(e,t,n,r){return-Math.round(e/(t+(n||0))-(r||0))}function g(e){var t=e.data();if(!t.tEnd){var n=e[0],r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};n.addEventListener(r[ln.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()},!1),t.tEnd=!0}}function y(e,t,n,r){var i,s=e.data();s&&(s.onEndFn=function(){i||(i=!0,clearTimeout(s.tT),n())},s.tProp=t,clearTimeout(s.tT),s.tT=setTimeout(function(){s.onEndFn()},1.5*r),g(e))}function b(e,t,n){if(e.length){var r=e.data();Ln?(e.css(c(0)),r.onEndFn=o,clearTimeout(r.tT)):e.stop();var i=w(t,function(){return f(e)});return e.css(l(i,n)),i}}function w(){for(var e,t=0,n=arguments.length;n>t&&(e=t?arguments[t]():arguments[t],"number"!=typeof e);t++);return e}function E(e,t){return Math.round(e+(t-e)/1.5)}function S(){return S.p=S.p||("https://"===n.protocol?"https://":"http://"),S.p}function x(e){var n=t.createElement("a");return n.href=e,n}function T(e,t){if("string"!=typeof e)return e;e=x(e);var n,r;if(e.host.match(/youtube\.com/)&&e.search){if(n=e.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),r="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(n=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),r="youtube"):e.host.match(/vimeo\.com/)&&(r="vimeo",n=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&r||!t||(n=e.href,r="custom"),n?{id:n,type:r,s:e.search.replace(/^\?/,"")}:!1}function N(e,t,n){var i,s,o=e.video;return"youtube"===o.type?(s=S()+"img.youtube.com/vi/"+o.id+"/default.jpg",i=s.replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===o.type?r.ajax({url:S()+"vimeo.com/api/v2/video/"+o.id+".json",dataType:"jsonp",success:function(r){e.thumbsReady=!0,C(t,{img:r[0].thumbnail_large,thumb:r[0].thumbnail_small},e.i,n)}}):e.thumbsReady=!0,{img:i,thumb:s}}function C(e,t,n,i){for(var s=0,o=e.length;o>s;s++){var u=e[s];if(u.i===n&&u.thumbsReady){var a={videoReady:!0};a[Wn]=a[Vn]=a[Xn]=!1,i.splice(s,1,r.extend({},u,a,t));break}}}function k
(e){function t(e,t,i){var s=e.children("img").eq(0),o=e.attr("href"),u=e.attr("src"),a=s.attr("src"),f=t.video,l=i?T(o,f===!0):!1;l?o=!1:l=f,n(e,s,r.extend(t,{video:l,img:t.img||o||u||a,thumb:t.thumb||a||u||o}))}function n(e,t,n){var i=n.thumb&&n.img!==n.thumb,s=h(n.width||e.attr("width")),o=h(n.height||e.attr("height"));r.extend(n,{width:s,height:o,thumbratio:U(n.thumbratio||h(n.thumbwidth||t&&t.attr("width")||i||s)/h(n.thumbheight||t&&t.attr("height")||i||o))})}var i=[];return e.children().each(function(){var e=r(this),s=R(r.extend(e.data(),{id:e.attr("id")}));if(e.is("a, img"))t(e,s,!0);else{if(e.is(":empty"))return;n(e,null,r.extend(s,{html:this,_html:e.html()}))}i.push(s)}),i}function L(e){return 0===e.offsetWidth&&0===e.offsetHeight}function A(e){return!r.contains(t.documentElement,e)}function O(e,t,n){e()?t():setTimeout(function(){O(e,t)},n||100)}function M(e){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+e)}function _(e,t,n){var r=e.data(),i=r.measures;if(i&&(!r.l||r.l.W!==i.width||r.l.H!==i.height||r.l.r!==i.ratio||r.l.w!==t.w||r.l.h!==t.h||r.l.m!==n)){var s=i.width,o=i.height,a=t.w/t.h,f=i.ratio>=a,l="scaledown"===n,c="contain"===n,h="cover"===n;f&&(l||c)||!f&&h?(s=u(t.w,0,l?s:1/0),o=s/i.ratio):(f&&h||!f&&(l||c))&&(o=u(t.h,0,l?o:1/0),s=o*i.ratio),e.css({width:Math.ceil(s),height:Math.ceil(o),marginLeft:Math.floor(-s/2),marginTop:Math.floor(-o/2)}),r.l={W:i.width,H:i.height,r:i.ratio,w:t.w,h:t.h,m:n}}return!0}function D(e,t){var n=e[0];n.styleSheet?n.styleSheet.cssText=t:e.html(t)}function P(e,t,n){return t===n?!1:t>=e?"left":e>=n?"right":"left right"}function H(e,t,n,r){if(!n)return!1;if(!isNaN(e))return e-(r?0:1);for(var i,s=0,o=t.length;o>s;s++){var u=t[s];if(u.id===e){i=s;break}}return i}function B(e,t,n){n=n||{},e.each(function(){var e,i=r(this),s=i.data();s.clickOn||(s.clickOn=!0,r.extend(J(i,{onStart:function(t){e=t,(n.onStart||o).call(this,t)},onMove:n.onMove||o,onTouchEnd:n.onTouchEnd||o,onEnd:function(r){r.moved||n.tail.checked||t.call(this,e)}}),n.tail))})}function j(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function F(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),r=e[t];e[t]=e[n],e[n]=r}return e}function I(e){return"[object Array]"==Object.prototype.toString.call(e)&&r.map(e,function(e){return r.extend({},e)})}function q(e,t){Tn.scrollLeft(e).scrollTop(t)}function R(e){if(e){var t={};return r.each(e,function(e,n){t[e.toLowerCase()]=n}),t}}function U(e){if(e){var t=+e;return isNaN(t)?(t=e.split("/"),+t[0]/+t[1]||i):t}}function z(e,t){e.preventDefault(),t&&e.stopPropagation()}function W(e){return e?">":"<"}function X(e,t){var n=Math.round(t.pos),i=t.onEnd||o;"undefined"!=typeof t.overPos&&t.overPos!==t.pos&&(n=t.overPos,i=function(){X(e,r.extend({},t,{overPos:t.pos,time:Math.max(jn,t.time/2)}))});var s=r.extend(l(n,t._001),t.width&&{width:t.width});Ln?(e.css(r.extend(c(t.time),s)),t.time>10?y(e,"transform",i,t.time):i()):e.stop().animate(s,t.time,$n,i)}function V(e,t,n,i,s,u){var a="undefined"!=typeof u;if(a||(s.push(arguments),Array.prototype.push.call(arguments,s.length),!(s.length>1))){e=e||r(e),t=t||r(t);var f=e[0],l=t[0],c="crossfade"===i.method,h=function(){if(!h.done){h.done=!0;var e=(a||s.shift())&&s.shift();e&&V.apply(this,e),(i.onEnd||o)(!!e)}},p=i.time/(u||1);n.not(e.addClass(Dt).removeClass(_t)).not(t.addClass(_t).removeClass(Dt)).removeClass(Dt+" "+_t),e.stop(),t.stop(),c&&l&&e.fadeTo(0,0),e.fadeTo(c?p:1,1,c&&h),t.fadeTo(p,0,h),f&&c||l||h()}}function $(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY}function J(n,i){function s(e){return p=r(e.target),b.checked=m=g=!1,c||b.flow||e.touches&&e.touches.length>1||e.which>1||wn&&wn.type!==e.type&&Sn||(m=i.select&&p.is(i.select,y))?m:(v="touchstart"===e.type,g=p.is("a, a *",y),$(e),h=wn=e,En=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),d=b.control,(i.onStart||o).call(y,e,{control:d,$target:p}),c=b.flow=!0,(!v||b.go)&&z(e),void 0)}function u(e){if(e.touches&&e.touches.length>1||Pn&&!e.isPrimary||En!==e.type||!c)return c&&a(),(i.onTouchEnd||o)(),void 0;$(e);var t=Math.abs(e._x-h._x),n=Math.abs(e._y-h._y),r=t-n,s=(b.go||b.x||r>=0)&&!b.noSwipe,u=0>r;v&&!b.checked?(c=s)&&z(e):(z(e),(i.onMove||o).call(y,e,{touch:v})),b.checked=b.checked||s||u}function a(e){(i.onTouchEnd||o)();var t=c;b.control=c=!1,t&&(b.flow=!1),!t||g&&!b.checked||(e&&z(e),Sn=!0,clearTimeout(xn),xn=setTimeout(function(){Sn=!1},1e3),(i.onEnd||o).call(y,{moved:b.checked,$target:p,control:d,touch:v,startEvent:h,aborted:!e||"MSPointerCancel"===e.type}))}function f(){b.flow||setTimeout(function(){b.flow=!0},10)}function l(){b.flow&&setTimeout(function(){b.flow=!1},Bn)}var c,h,p,d,v,m,g,y=n[0],b={};return Pn?(y[Dn]("MSPointerDown",s,!1),t[Dn]("MSPointerMove",u,!1),t[Dn]("MSPointerCancel",a,!1),t[Dn]("MSPointerUp",a,!1)):(y[Dn]&&(y[Dn]("touchstart",s,!1),y[Dn]("touchmove",u,!1),y[Dn]("touchend",a,!1),t[Dn]("touchstart",f,!1),t[Dn]("touchend",l,!1),t[Dn]("touchcancel",l,!1),e[Dn]("scroll",l,!1)),n.on("mousedown",s),Nn.on("mousemove",u).on("mouseup",a)),n.on("click","a",function(e){b.checked&&z(e)}),b}function K(e,t){function n(n){f=c=n._x,m=r.now(),v=[[m,f]],h=p=L.noMove?0:b(e,(t.getPos||o)(),t._001),(t.onStart||o).call(C,n)}function i(e,t){y=k.min,w=k.max,S=k.snap,x=e.altKey,N=!1,T=t.control,T||n(e)}function s(i,s){T&&(T=!1,n(i)),L.noSwipe||(c=i._x,v.push([r.now(),c]),p=h-(f-c),d=P(p,y,w),y>=p?p=E(p,y):p>=w&&(p=E(p,w)),L.noMove||(e.css(l(p,t._001)),N||(N=!0,s.touch||Pn||e.addClass(Jt)),(t.onMove||o).call(C,i,{pos:p,edge:d})))}function a(n){if(!T){n.touch||Pn||e.removeClass(Jt),g=(new Date).getTime();for(var i,s,a,f,l,d,m,b,E,N=g-Bn,k=null,L=jn,A=t.friction,O=v.length-1;O>=0;O--){if(i=v[O][0],s=Math.abs(i-N),null===k||a>s)k=i,f=v[O][1];else if(k===N||s>a)break;a=s}m=u(p,y,w);var M=f-c,_=M>=0,D=g-k,P=D>Bn,H=!P&&p!==h&&m===p;S&&(m=u(Math[H?_?"floor":"ceil":"round"](p/S)*S,y,w),y=w=m),H&&(S||m===p)&&(E=-(M/D),L*=u(Math.abs(E),t.timeLow,t.timeHigh),l=Math.round(p+E*L/A),S||(m=l),(!_&&l>w||_&&y>l)&&(d=_?y:w,b=l-d,S||(m=d),b=u(m+.03*b,d-50,d+50),L=Math.abs((p-b)/(E/A)))),L*=x?10:1,(t.onEnd||o).call(C,r.extend(n,{pos:p,newPos:m,overPos:b,time:L,moved:P?S:Math.abs(p-h)>(S?0:3)}))}}var f,c,h,p,d,v,m,g,y,w,S,x,T,N,C=e[0],k=e.data(),L={};return L=r.extend(J(t.$wrap,{onStart:i,onMove:s,onTouchEnd:t.onTouchEnd,onEnd:a,select:t.select,control:t.control}),L)}function Q(e,t){var n,i,s,u=e[0],a={prevent:{}};return u[Dn]&&u[Dn](Hn,function(e){var u=e.wheelDeltaY||-1*e.deltaY||0,f=e.wheelDeltaX||-1*e.deltaX||0,l=Math.abs(f)>Math.abs(u),c=W(0>f),h=i===c,p=r.now(),d=Bn>p-s;i=c,s=p,l&&a.ok&&(!a.prevent[c]||n)&&(z(e,!0),n&&h&&d||(t.shift&&(n=!0,clearTimeout(a.t),a.t=setTimeout(function(){n=!1},Fn)),(t.onEnd||o)(e,t.shift?c:f)))},!1),a}function G(){r.each(r.Fotorama.instances,function(e,t){t.index=e})}function Y(e){r.Fotorama.instances.push(e),G()}function Z(e){r.Fotorama.instances.splice(e.index,1),G()}var et="fotorama",tt="fullscreen",nt=et+"__wrap",rt=nt+"--css2",it=nt+"--css3",st=nt+"--video",ot=nt+"--fade",ut=nt+"--slide",at=nt+"--no-controls",ft=nt+"--no-shadows",lt=nt+"--pan-y",ct=nt+"--rtl",ht=et+"__stage",pt=ht+"__frame",dt=pt+"--video",vt=ht+"__shaft",mt=ht+"--only-active",gt=et+"__grab",yt=et+"__pointer",bt=et+"__arr",wt=bt+"--disabled",Et=bt+"--prev",St=bt+"--next",xt=et+"__nav",Tt=xt+"-wrap",Nt=xt+"__shaft",Ct=xt+"--dots",kt=xt+"--thumbs",Lt=xt+"__frame",At=Lt+"--dot",Ot=Lt+"--thumb",Mt=et+"__fade",_t=Mt+"-front",Dt=Mt+"-rear",Pt=et+"__shadow",Ht=Pt+"s",Bt=Ht+"--left",jt=Ht+"--right",Ft=et+"__active",It=et+"__select",qt=et+"--hidden",Rt=et+"--fullscreen",Ut=et+"__fullscreen-icon",zt=et+"__error",Wt=et+"__loading",Xt=et+"__loaded",Vt=Xt+"--full",$t=Xt+"--img",Jt=et+"__grabbing",Kt=et+"__img",Qt=Kt+"--full",Gt=et+"__dot",Yt=et+"__thumb",Zt=Yt+"-border",en=et+"__html",tn=et+"__video",nn=tn+"-play",rn=tn+"-close",sn=et+"__caption",on=et+"__caption__wrap",un=et+"__spinner",an=r&&r.fn.jquery.split(".");if(!an||an[0]<1||1==an[0]&&an[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var fn={},ln=function(e,t,n){function r(e){g.cssText=e}function i(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var r in e){var i=e[r];if(!s(i,"-")&&g[i]!==n)return"pfx"==t?i:!0}return!1}function u(e,t,r){for(var s in e){var o=t[e[s]];if(o!==n)return r===!1?e[s]:i(o,"function")?o.bind(r||t):o}return!1}function a(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+w.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?o(s,t):(s=(e+" "+E.join(r+" ")+r).split(" "),u(s,t,n))}var f,l,c,h="2.6.2",p={},d=t.documentElement,v="modernizr",m=t.createElement(v),g=m.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),b="Webkit Moz O ms",w=b.split(" "),E=b.toLowerCase().split(" "),S={},x=[],T=x.slice,N=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))for(;r--;)u=t.createElement("div"),u.id=i?i[r]:v+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),f.id=v,(l?f:c).innerHTML+=s,c.appendChild(f),l||(c.style.background="",c.style.overflow="hidden",a=d.style.overflow,d.style.overflow="hidden",d.appendChild(c)),o=n(f,e),l?f.parentNode.removeChild(f):(c.parentNode.removeChild(c),d.style.overflow=a),!!o},C={}.hasOwnProperty;c=i(C,"undefined")||i(C.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return C.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=T.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(T.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(T.call(arguments)))};return r}),S.csstransforms3d=function(){var e=!!a("perspective");return e};for(var k in S)c(S,k)&&(l=k.toLowerCase(),p[l]=S[k](),x.push((p[l]?"":"no-")+l));return p.addTest=function(e,t){if("object"==typeof e)for(var r in e)c(e,r)&&p.addTest(r,e[r]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(t?"":"no-")+e),p[e]=t}return p},r(""),m=f=null,p._version=h,p._prefixes=y,p._domPrefixes=E,p._cssomPrefixes=w,p.testProp=function(e){return o([e])},p.testAllProps=a,p.testStyles=N,p.prefixed=function(e,t,n){return t?a(e,t,n):a(e,"pfx")},p}(e,t),cn={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},hn="webkit moz o ms khtml".split(" ");if("undefined"!=typeof t.cancelFullScreen)cn.ok=!0;else for(var pn=0,dn=hn.length;dn>pn;pn++)if(cn.prefix=hn[pn],"undefined"!=typeof t[cn.prefix+"CancelFullScreen"]){cn.ok=!0;break}cn.ok&&(cn.event=cn.prefix+"fullscreenchange",cn.is=function(){switch(this.prefix){case"":return t.fullScreen;case"webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},cn.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},cn.cancel=function(){return""===this.prefix?t.cancelFullScreen():t[this.prefix+"CancelFullScreen"]()});var vn,mn={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},gn={top:"auto",left:"auto",className:""};!function(e,t){vn=t()}(this,function(){function e(e,n){var r,i=t.createElement(e||"div");for(r in n)i[r]=n[r];return i}function n(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function r(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),s=.01+100*(n/r),o=Math.max(1-(1-e)/t*(100-s),e),u=h.substring(0,h.indexOf("Animation")).toLowerCase(),a=u&&"-"+u+"-"||"";return d[i]||(v.insertRule("@"+a+"keyframes "+i+"{"+"0%{opacity:"+o+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+o+"}"+"}",v.cssRules.length),d[i]=1),i}function s(e,t){var n,r,s=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<p.length;r++)if(n=p[r]+t,s[n]!==i)return n;return s[t]!==i?t:void 0}function o(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===i&&(e[r]=n[r])}return e}function a(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function f(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e){return"undefined"==typeof this?new l(e):(this.opts=u(e||{},l.defaults,m),void 0)}function c(){function t(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}v.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(e,r){function i(){return o(t("group",{coordsize:l+" "+l,coordorigin:-a+" "+ -a}),{width:l,height:l})}function s(e,s,u){n(h,n(o(i(),{rotation:360/r.lines*e+"deg",left:~~s}),n(o(t("roundrect",{arcsize:r.corners}),{width:a,height:r.width,left:r.radius,top:-r.width>>1,filter:u}),t("fill",{color:f(r.color,e),opacity:r.opacity}),t("stroke",{opacity:0}))))}var u,a=r.length+r.width,l=2*a,c=2*-(r.width+r.length)+"px",h=o(i(),{position:"absolute",top:c,left:c});if(r.shadow)for(u=1;u<=r.lines;u++)s(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=r.lines;u++)s(u);return n(e,h)},l.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var h,p=["webkit","Moz","ms","O"],d={},v=function(){var r=e("style",{type:"text/css"});return n(t.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},u(l.prototype,{spin:function(t){this.stop();var n,r,i=this,s=i.opts,u=i.el=o(e(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),f=s.radius+s.length+s.width;if(t&&(t.insertBefore(u,t.firstChild||null),r=a(t),n=a(u),o(u,{left:("auto"==s.left?r.x-n.x+(t.offsetWidth>>1):parseInt(s.left,10)+f)+"px",top:("auto"==s.top?r.y-n.y+(t.offsetHeight>>1):parseInt(s.top,10)+f)+"px"})),u.setAttribute("role","progressbar"),i.lines(u,i.opts),!h){var l,c=0,p=(s.lines-1)*(1-s.direction)/2,d=s.fps,v=d/s.speed,m=(1-s.opacity)/(v*s.trail/100),g=v/s.lines;!function y(){c++;for(var e=0;e<s.lines;e++)l=Math.max(1-(c+(s.lines-e)*g)%v*m,s.opacity),i.opacity(u,e*s.direction+p,l,s);i.timeout=i.el&&setTimeout(y,~~(1e3/d))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=i),this},lines:function(t,i){function s(t,n){return o(e(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*a+i.rotate)+"deg) translate("+i.radius+"px"+",0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(var u,a=0,l=(i.lines-1)*(1-i.direction)/2;a<i.lines;a++)u=o(e(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:h&&r(i.opacity,i.trail,l+a*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&n(u,o(s("#000","0 0 4px #000"),{top:"2px"})),n(t,n(u,s(f(i.color,a),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var g=o(e("group"),{behavior:"url(#default#VML)"});return!s(g,"transform")&&g.adj?c():h=s(g,"animation"),l});var yn,bn,wn,En,Sn,xn,Tn=r(e),Nn=r(t),Cn="quirks"===n.hash.replace("#",""),kn=ln.csstransforms3d,Ln=kn&&!Cn,An=kn||"CSS1Compat"===t.compatMode,On=cn.ok,Mn=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),_n=!Ln||Mn,Dn="addEventListener",Pn=e.navigator.msPointerEnabled,Hn="onwheel"in t.createElement("div")?"wheel":t.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Bn=250,jn=300,Fn=1400,In=5e3,qn=2,Rn=64,Un=500,zn=333,Wn="$stageFrame",Xn="$navDotFrame",Vn="$navThumbFrame",$n=s([.1,0,.25,1]);jQuery.Fotorama=function(e,i){function s(){r.each(cr,function(e,t){if(!t.i){t.i=Qr++;var n=T(t.video,!0);if(n){var r={};t.video=n,t.img||t.thumb?t.thumbsReady=!0:r=N(t,cr,Vr),C(cr,{img:r.img,thumb:r.thumb},t.i,Vr)}}})}function o(e){var t="keydown."+et,n="keydown."+et+$r,r="resize."+et+$r;e?(Nn.on(n,function(e){vr&&27===e.keyCode?(z(e),nr(vr,!0,!0)):(Vr.fullScreen||i.keyboard&&!Vr.index)&&(27===e.keyCode?(z(e),Vr.cancelFullScreen()):39===e.keyCode||40===e.keyCode&&Vr.fullScreen?(z(e),Vr.show({index:">",slow:e.altKey,user:!0})):(37===e.keyCode||38===e.keyCode&&Vr.fullScreen)&&(z(e),Vr.show({index:"<",slow:e.altKey,user:!0})))}),Vr.index||Nn.off(t).on(t,"textarea, input, select",function(e){!bn.hasClass(tt)&&e.stopPropagation()}),Tn.on(r,Vr.resize)):(Nn.off(n),Tn.off(r))}function a(t){t!==a.f&&(t?(e.html("").addClass(et+" "+Jr).append(ei).before(Yr).before(Zr),Y(Vr)):(ei.detach(),Yr.detach(),Zr.detach(),e.html(Gr.urtext).removeClass(Jr),Z(Vr)),o(t),a.f=t)}function f(){cr=Vr.data=cr||I(i.data)||k(e),hr=Vr.size=cr.length,!lr.ok&&i.shuffle&&F(cr),s(),Ei=L(Ei),hr&&a(!0)}function g(){var e=2>hr||vr;Ti.noMove=e||Or,Ti.noSwipe=e||!i.swipe,ni.toggleClass(gt,!Ti.noMove&&!Ti.noSwipe),Pn&&ei.toggleClass(lt,!Ti.noSwipe)}function y(e){e===!0&&(e=""),i.autoplay=Math.max(+e||In,1.5*Dr)}function E(e){return e?"add":"remove"}function S(){Vr.options=i=R(i),Or="crossfade"===i.transition||"dissolve"===i.transition,Tr=i.loop&&(hr>2||Or),Dr=+i.transitionduration||jn,Hr="rtl"===i.direction;var e={add:[],remove:[]};hr>1?(Nr=i.nav,kr="top"===i.navposition,e.remove.push(It),oi.toggle(i.arrows)):(Nr=!1,oi.hide()),an(),dr=new vn(r.extend(mn,i.spinner,gn,{direction:Hr?-1:1})),xn(),Cn(),i.autoplay&&y(i.autoplay),Mr=h(i.thumbwidth)||Rn,_r=h(i.thumbheight)||Rn,Ni.ok=ki.ok=i.trackpad&&!_n,g(),Jn(i,!0),Cr="thumbs"===Nr,Cr?(ln(hr,"navThumb"),pr=ci,Xr=Vn,D(Yr,r.Fotorama.jst.style({w:Mr,h:_r,b:i.thumbborderwidth,m:i.thumbmargin,s:$r,q:!An})),ai.addClass(kt).removeClass(Ct)):"dots"===Nr?(ln(hr,"navDot"),pr=li,Xr=Xn,ai.addClass(Ct).removeClass(kt)):(Nr=!1,ai.removeClass(kt+" "+Ct)),Nr&&(kr?ui.insertBefore(ti):ui.insertAfter(ti),wn.nav=!1,wn(pr,fi,"nav")),Lr=i.allowfullscreen,Lr?(vi.appendTo(ti),Ar=On&&"native"===Lr):(vi.detach(),Ar=!1),e[E(Or)].push(ot),e[E(!Or)].push(ut),e[E(Hr)].push(ct),Pr=i.shadows&&!_n,e[E(!Pr)].push(ft),ei.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Si=r.extend({},i)}function x(e){return 0>e?(hr+e%hr)%hr:e>=hr?e%hr:e}function L(e){return u(e,0,hr-1)}function $(e){return Tr?x(e):L(e)}function J(e){return e>0||Tr?e-1:!1}function G(e){return hr-1>e||Tr?e+1:!1}function Mt(){hi.min=Tr?-1/0:-v(hr-1,xi.w,i.margin,yr),hi.max=Tr?1/0:-v(0,xi.w,i.margin,yr),hi.snap=xi.w+i.margin}function _t(){pi.min=Math.min(0,xi.W-fi.width()),pi.max=0,fi.toggleClass(gt,!(Ci.noMove=pi.min===pi.max))}function Dt(e,t,n){if("number"==typeof e){e=new Array(e);var i=!0}return r.each(e,function(e,r){if(i&&(r=e),"number"==typeof r){var s=cr[x(r)];if(s){var o="$"+t+"Frame",u=s[o];n.call(this,e,r,s,u,o,u&&u.data())}}})}function Pt(e,t,n,r){(!Br||"*"===Br&&r===xr)&&(e=d(i.width)||d(e)||Un,t=d(i.height)||d(t)||zn,Vr.resize({width:e,ratio:i.ratio||n||e/t},0,r===xr?!0:"*"))}function Jt(e,t,n,s,o){Dt(e,t,function(e,u,a,f,l,c){function h(e){var t=x(u);Kn(e,{index:t,src:E,frame:cr[t]})}function p(){y.remove(),r.Fotorama.cache[E]="error",a.html&&"stage"===t||!S||S===E?(!E||a.html||m?"stage"===t&&(f.trigger("f:load").removeClass(Wt+" "+zt).addClass(Xt),h("load"),Pt()):(f.trigger("f:error").removeClass(Wt).addClass(zt),h("error")),c.state="error",!(hr>1&&cr[u]===a)||a.html||a.deleted||a.video||m||(a.deleted=!0,Vr.splice(u,1))):(a[w]=E=S,Jt([u],t,n,s,!0))}function d(){r.Fotorama.measures[E]=b.measures=r.Fotorama.measures[E]||{width:g.width,height:g.height,ratio:g.width/g.height},Pt(b.measures.width,b.measures.height,b.measures.ratio,u),y.off("load error").addClass(Kt+(m?" "+Qt:"")).prependTo(f),_(y,n||xi,s||a.fit||i.fit),r.Fotorama.cache[E]=c.state="loaded",setTimeout(function(){f.trigger("f:load").removeClass(Wt+" "+zt).addClass(Xt+" "+(m?Vt:$t)),"stage"===t&&h("load")},5)}function v(){var e=10;O(function(){return!zr||!(e--)&&!_n},function(){d()})}if(f){var m=Vr.fullScreen&&a.full&&a.full!==a.img&&!c.$full&&"stage"===t;if(!c.$img||o||m){var g=new Image,y=r(g),b=y.data();c[m?"$full":"$img"]=y;var w="stage"===t?m?"full":"img":"thumb",E=a[w],S=m?null:a["stage"===t?"thumb":"img"];if("navThumb"===t&&(f=c.$wrap),!E)return p(),void 0;r.Fotorama.cache[E]?!function T(){"error"===r.Fotorama.cache[E]?p():"loaded"===r.Fotorama.cache[E]?setTimeout(v,0):setTimeout(T,100)}():(r.Fotorama.cache[E]="*",y.on("load",v).on("error",p)),c.state="",g.src=E}}})}function tn(e){wi.append(dr.spin().el).appendTo(e)}function an(){wi.detach(),dr&&dr.stop()}function fn(){var e=Vr.activeFrame[Wn];e&&!e.data().state&&(tn(e),e.on("f:load f:error",function(){e.off("f:load f:error"),an()}))}function ln(e,t){Dt(e,t,function(e,n,s,o,u,a){o||(o=s[u]=ei[u].clone(),a=o.data(),a.data=s,"stage"===t?(s.html&&r('<div class="'+en+'"></div>').append(s._html?r(s.html).removeAttr("id").html(s._html):s.html).appendTo(o),i.captions&&s.caption&&r(j(sn,j(on,s.caption))).appendTo(o),s.video&&o.addClass(dt).append(gi.clone()),ri=ri.add(o)):"navDot"===t?li=li.add(o):"navThumb"===t&&(a.$wrap=o.children(":first"),ci=ci.add(o),s.video&&o.append(gi.clone())))})}function hn(e,t,n){return e&&e.length&&_(e,t,n)}function pn(e){Dt(e,"stage",function(e,t,n,s,o,u){if(s){Ai[Wn][x(t)]=s.css(r.extend({left:Or?0:v(t,xi.w,i.margin,yr)},Or&&c(0))),A(s[0])&&(s.appendTo(ni),nr(n.$video));var a=n.fit||i.fit;hn(u.$img,xi,a),hn(u.$full,xi,a)}})}function dn(e,t){if("thumbs"===Nr&&!isNaN(e)){var n=-e,i=-e+xi.w;ci.each(function(){var e=r(this),s=e.data(),o=s.eq,u={h:_r},a="cover";u.w=s.w,s.l+s.w<n||s.l>i||hn(s.$img,u,a)||t&&Jt([o],"navThumb",u,a)})}}function wn(e,t,n){if(!wn[n]){var s="nav"===n&&Cr,o=0;t.append(e.filter(function(){for(var e,t=r(this),n=t.data(),i=0,s=cr.length;s>i;i++)if(n.data===cr[i]){e=!0,n.eq=i;break}return e||t.remove()&&!1}).sort(function(e,t){return r(e).data().eq-r(t).data().eq}).each(function(){if(s){var e=r(this),t=e.data(),n=Math.round(_r*t.data.thumbratio)||Mr;t.l=o,t.w=n,e.css({width:n}),o+=n+i.thumbmargin}})),wn[n]=!0}}function En(e){return e-Oi>xi.w/3}function Sn(e){return!(Tr||Ei+e&&Ei-hr+e||vr)}function xn(){ii.toggleClass(wt,Sn(0)),si.toggleClass(wt,Sn(1))}function Cn(){Ni.ok&&(Ni.prevent={"<":Sn(0),">":Sn(1)})}function kn(e){var t,n,r=e.data();return Cr?(t=r.l,n=r.w):(t=e.position().left,n=e.width()),{c:t+n/2,min:-t+10*i.thumbmargin,max:-t+xi.w-n-10*i.thumbmargin}}function Mn(e){var t=Vr.activeFrame[Xr].data();X(di,{time:.9*e,pos:t.l,width:t.w-2*i.thumbborderwidth})}function Dn(e){var t=cr[e.guessIndex][Xr];if(t){var n=pi.min!==pi.max,r=n&&kn(Vr.activeFrame[Xr]),i=n&&(e.keep&&Dn.l?Dn.l:u((e.coo||xi.w/2)-kn(t).c,r.min,r.max)),s=n&&u(i,pi.min,pi.max),o=.9*e.time;X(fi,{time:o,pos:s||0,onEnd:function(){dn(s,!0)}}),tr(ai,P(s,pi.min,pi.max)),Dn.l=i}}function Hn(){Fn(Xr),Li[Xr].push(Vr.activeFrame[Xr].addClass(Ft))}function Fn(e){for(var t=Li[e];t.length;)t.shift().removeClass(Ft)}function qn(e){var t=Ai[e];r.each(gr,function(e,n){delete t[x(n)]}),r.each(t,function(e,n){delete t[e],n.detach()})}function $n(e){yr=br=Ei;var t=Vr.activeFrame,n=t[Wn];n&&(Fn(Wn),Li[Wn].push(n.addClass(Ft)),e||Vr.show.onEnd(!0),b(ni,0,!0),qn(Wn),pn(gr),Mt(),_t())}function Jn(e,t){e&&r.extend(xi,{width:e.width||xi.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:U(e.ratio)})&&!t&&r.extend(i,{width:xi.width,height:xi.height,minwidth:xi.minwidth,maxwidth:xi.maxwidth,minheight:xi.minheight,maxheight:xi.maxheight,ratio:xi.ratio})}function Kn(t,n){e.trigger(et+":"+t,[Vr,n])}function Qn(){clearTimeout(Gn.t),zr=1,i.stopautoplayontouch?Vr.stopAutoplay():qr=!0}function Gn(){Gn.t=setTimeout(function(){zr=0},jn+Bn)}function Yn(){qr=!!vr||!!Rr}function Zn(){if(clearTimeout(Zn.t),!i.autoplay||qr)return Vr.autoplay&&(Vr.autoplay=!1,Kn("stopautoplay")),void 0;Vr.autoplay||(Vr.autoplay=!0,Kn("startautoplay"));var e=Ei,t=Vr.activeFrame[Wn].data();O(function(){return t.state||e!==Ei},function(){Zn.t=setTimeout(function(){qr||e!==Ei||Vr.show(Tr?W(!Hr):x(Ei+(Hr?-1:1)))},i.autoplay)})}function er(){Vr.fullScreen&&(Vr.fullScreen=!1,On&&cn.cancel(Kr),bn.removeClass(tt),yn.removeClass(tt),e.removeClass(Rt).insertAfter(Zr),xi=r.extend({},Ur),nr(vr,!0,!0),or("x",!1),Vr.resize(),Jt(gr,"stage"),q(Fr,jr),Kn("fullscreenexit"))}function tr(e,t){Pr&&(e.removeClass(Bt+" "+jt),t&&!vr&&e.addClass(t.replace(/^|\s/g," "+Ht+"--")))}function nr(e,t,n){t&&(ei.removeClass(st),vr=!1,g()),e&&e!==vr&&(e.remove(),Kn("unloadvideo")),n&&(Yn(),Zn())}function rr(e){ei.toggleClass(at,e)}function ir(e){if(!Ti.flow){var t=e?e.pageX:ir.x,n=t&&!Sn(En(t))&&i.click;ir.p===n||!Or&&i.swipe||!ti.toggleClass(yt,n)||(ir.p=n,ir.x=t)}}function sr(e,t){var n=e.target,s=r(n);s.hasClass(nn)?Vr.playVideo():n===mi?Vr[(Vr.fullScreen?"cancel":"request")+"FullScreen"]():vr?n===bi&&nr(vr,!0,!0):t?rr():i.click&&Vr.show({index:e.shiftKey||W(En(e._x)),slow:e.altKey,user:!0})}function or(e,t){Ti[e]=Ci[e]=t}function ur(e,t){var n=r(this).data().eq;Vr.show({index:n,slow:e.altKey,user:!0,coo:e._x-ai.offset().left,time:t})}function ar(){if(f(),S(),!ar.i){ar.i=!0;var e=i.startindex;(e||i.hash&&n.hash)&&(xr=H(e||n.hash.replace(/^#/,""),cr,0===Vr.index||e,e)),Ei=yr=br=wr=xr=$(xr)||0}if(hr){if(fr())return;vr&&nr(vr,!0),gr=[],qn(Wn),Vr.show({index:Ei,time:0}),Vr.resize()}else Vr.destroy()}function fr(){return!fr.f===Hr?(fr.f=Hr,Ei=hr-1-Ei,Vr.reverse(),!0):void 0}function lr(){lr.ok||(lr.ok=!0,Kn("ready"))}yn=yn||r("html"),bn=bn||r("body");var cr,hr,pr,dr,vr,mr,gr,yr,br,wr,Er,Sr,xr,Tr,Nr,Cr,kr,Lr,Ar,Or,Mr,_r,Dr,Pr,Hr,Br,jr,Fr,Ir,qr,Rr,Ur,zr,Wr,Xr,Vr=this,$r=r.now(),Jr=et+$r,Kr=e[0],Qr=1,Gr=e.data(),Yr=r("<style></style>"),Zr=r(j(qt)),ei=r(j(nt)),ti=r(j(ht)).appendTo(ei),ni=(ti[0],r(j(vt)).appendTo(ti)),ri=r(),ii=r(j(bt+" "+Et)),si=r(j(bt+" "+St)),oi=ii.add(si).appendTo(ti),ui=r(j(Tt)),ai=r(j(xt)).appendTo(ui),fi=r(j(Nt)).appendTo(ai),li=r(),ci=r(),hi=ni.data(),pi=fi.data(),di=r(j(Zt)).appendTo(fi),vi=r(j(Ut)),mi=vi[0],gi=r(j(nn)),yi=r(j(rn)).appendTo(ti),bi=yi[0],wi=r(j(un)),Ei=!1,Si={},xi={},Ti={},Ni={},Ci={},ki={},Li={},Ai={},Oi=0,Mi=[];ei[Wn]=r(j(pt)),ei[Vn]=r(j(Lt+" "+Ot,j(Yt))),ei[Xn]=r(j(Lt+" "+At,j(Gt))),Li[Wn]=[],Li[Vn]=[],Li[Xn]=[],Ai[Wn]={},ei.addClass(Ln?it:rt),Gr.fotorama=this,Vr.startAutoplay=function(e){return Vr.autoplay?this:(qr=Rr=!1,y(e||i.autoplay),Zn(),this)},Vr.stopAutoplay=function(){return Vr.autoplay&&(qr=Rr=!0,Zn()),this},Vr.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?br+1:"<"===t?br-1:"<<"===t?0:">>"===t?hr-1:t,t=isNaN(t)?H(t,cr,!0):t,t="undefined"==typeof t?Ei||0:t,Vr.activeIndex=Ei=$(t),Er=J(Ei),Sr=G(Ei),gr=[Ei,Er,Sr],br=Tr?t:Ei;var n=Math.abs(wr-br),r=w(e.time,function(){return Math.min(Dr*(1+(n-1)/12),2*Dr)}),s=e.overPos;e.slow&&(r*=10),Vr.activeFrame=mr=cr[Ei],nr(vr,mr.i!==cr[x(yr)].i),ln(gr,"stage"),pn(_n?[br]:[br,J(br),G(br)]),or("go",!0),Kn("show",{user:e.user,time:r});var o=Vr.show.onEnd=function(t){o.ok||(o.ok=!0,fn(),Jt(gr,"stage"),t||$n(!0),Kn("showend",{user:e.user}),or("go",!1),Cn(),ir(),Yn(),Zn())};if(Or){var a=mr[Wn],f=Ei!==wr?cr[wr][Wn]:null;V(a,f,ri,{time:r,method:i.transition,onEnd:o},Mi)}else X(ni,{pos:-v(br,xi.w,i.margin,yr),overPos:s,time:r,onEnd:o,_001:!0});if(xn(),Nr){Hn();var l=L(Ei+u(br-wr,-1,1));Dn({time:r,coo:l!==Ei&&e.coo,guessIndex:"undefined"!=typeof e.coo?l:Ei}),Cr&&Mn(r)}return Ir="undefined"!=typeof wr&&wr!==Ei,wr=Ei,i.hash&&Ir&&!Vr.eq&&M(mr.id||Ei+1),this},Vr.requestFullScreen=function(){return Lr&&!Vr.fullScreen&&(jr=Tn.scrollTop(),Fr=Tn.scrollLeft(),q(0,0),or("x",!0),Ur=r.extend({},xi),e.addClass(Rt).appendTo(bn.addClass(tt)),yn.addClass(tt),nr(vr,!0,!0),Vr.fullScreen=!0,Ar&&cn.request(Kr),Vr.resize(),Jt(gr,"stage"),fn(),Kn("fullscreenenter")),this},Vr.cancelFullScreen=function(){return Ar&&cn.is()?cn.cancel(t):er(),this},t.addEventListener&&t.addEventListener(cn.event,function(){!cr||cn.is()||vr||er()},!1),Vr.resize=function(e){if(!cr)return this;Jn(Vr.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:R(e),Vr.fullScreen);var t=arguments[1]||0,n=arguments[2],r=xi.width,s=xi.height,o=xi.ratio,a=Tn.height()-(Nr?ai.height():0);return d(r)&&(ei.css({width:r,minWidth:xi.minwidth,maxWidth:xi.maxwidth}),r=xi.W=xi.w=ei.width(),i.glimpse&&(xi.w-=Math.round(2*(p(i.glimpse)/100*r||h(i.glimpse)||0))),ni.css({width:xi.w,marginLeft:(xi.W-xi.w)/2}),s=p(s)/100*a||h(s),s=s||o&&r/o,s&&(r=Math.round(r),s=xi.h=Math.round(u(s,p(xi.minheight)/100*a||h(xi.minheight),p(xi.maxheight)/100*a||h(xi.maxheight))),$n(),ti.addClass(mt).stop().animate({width:r,height:s},t,function(){ti.removeClass(mt)}),Nr&&(ai.stop().animate({width:r},t),Dn({guessIndex:Ei,time:t,keep:!0}),Cr&&wn.nav&&Mn(t)),Br=n||!0,lr())),Oi=ti.offset().left,this},Vr.setOptions=function(e){return r.extend(i,e),ar(),this},Vr.shuffle=function(){return cr&&F(cr)&&ar(),this},Vr.destroy=function(){return Vr.cancelFullScreen(),Vr.stopAutoplay(),cr=Vr.data=null,a(),gr=[],qn(Wn),this},Vr.playVideo=function(){var e=Vr.activeFrame,t=e.video,n=Ei;return"object"==typeof t&&e.videoReady&&(Ar&&Vr.fullScreen&&Vr.cancelFullScreen(),O(function(){return!cn.is()||n!==Ei},function(){n===Ei&&(e.$video=e.$video||r(r.Fotorama.jst.video(t)),e.$video.appendTo(e[Wn]),ei.addClass(st),vr=e.$video,g(),Kn("loadvideo"))})),this},Vr.stopVideo=function(){return nr(vr,!0,!0),this},ti.on("mousemove",ir),Ti=K(ni,{onStart:Qn,onMove:function(e,t){tr(ti,t.edge)},onTouchEnd:Gn,onEnd:function(e){tr(ti);var t=(Pn&&!Wr||e.touch)&&i.arrows;if(e.moved||t&&e.pos!==e.newPos){var n=m(e.newPos,xi.w,i.margin,yr);Vr.show({index:n,time:Or?Dr:e.time,overPos:e.overPos,user:!0})}else e.aborted||sr(e.startEvent,t)},getPos:function(){return-v(br,xi.w,i.margin,yr)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+It+", ."+It+" *",$wrap:ti}),Ci=K(fi,{onStart:Qn,onMove:function(e,t){tr(ai,t.edge)},onTouchEnd:Gn,onEnd:function(e){function t(){Dn.l=e.newPos,Yn(),Zn(),dn(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(X(fi,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),dn(e.newPos),Pr&&tr(ai,P(e.newPos,pi.min,pi.max))):t();else{var n=e.$target.closest("."+Lt,fi)[0];n&&ur.call(n,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ai}),Ni=Q(ti,{shift:!0,onEnd:function(e,t){Qn(),Gn(),Vr.show({index:t,slow:e.altKey})}}),ki=Q(ai,{onEnd:function(e,t){Qn(),Gn();var n=b(fi)+.25*t;fi.css(l(u(n,pi.min,pi.max))),Pr&&tr(ai,P(n,pi.min,pi.max)),ki.prevent={"<":n>=pi.max,">":n<=pi.min},clearTimeout(ki.t),ki.t=setTimeout(function(){dn(n,!0)},Bn),dn(n)}}),ei.hover(function(){setTimeout(function(){zr||(Wr=!0,rr(!Wr))},0)},function(){Wr&&(Wr=!1,rr(!Wr))}),B(oi,function(e){z(e),Vr.show({index:oi.index(this)?">":"<",slow:e.altKey,user:!0})},{onStart:function(){Qn(),Ti.control=!0},onTouchEnd:Gn,tail:Ti}),r.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){Vr[t]=function(){return cr=cr||[],"load"!==t?Array.prototype[t].apply(cr,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(cr=I(arguments[0])),ar(),Vr}}),ar()},r.fn.fotorama=function(t){return this.each(function(){var n=this,i=r(this),s=i.data(),o=s.fotorama;o?o.setOptions(t):O(function(){return!L(n)},function(){s.urtext=i.html(),new r.Fotorama(i,r.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:qn,glimpse:0,nav:"dots",navposition:"bottom",thumbwidth:Rn,thumbheight:Rn,thumbmargin:qn,thumbborderwidth:qn,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:jn,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},e.fotoramaDefaults,t,s))})})},r.Fotorama.instances=[],r.Fotorama.cache={},r.Fotorama.measures={},r=r||{},r.Fotorama=r.Fotorama||{},r.Fotorama.jst=r.Fotorama.jst||{},r.Fotorama.jst.style=function(e){var t,n="";return fn.escape,n+=".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},r.Fotorama.jst.video=function(e){function t(){n+=r.call(arguments,"")}var n="",r=(fn.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="'
,t(("youtube"==e.type?"http://youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?"http://player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>'},r(function(){r("."+et+':not([data-auto="false"])').fotorama()})}(window,document,location,window.jQuery);(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(e){o(function(){var t,n;for(t in e)n=e[t],n.obj.css(n.css)})}function n(t){return e.trim(t).toLowerCase()}var r,i,s;s=function(e,t){return function(){return e.apply(t,arguments)}},i={align:"center",autoResize:!1,comparator:null,container:e("body"),ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,direction:void 0,offset:2,onLayoutChanged:void 0,outerOffset:0,resizeDelay:50,possibleFilters:[]};var o=window.requestAnimationFrame||function(e){e()};r=function(){function r(t,n){this.handler=t,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],e.extend(!0,this,i,n),this.update=s(this.update,this),this.onResize=s(this.onResize,this),this.onRefresh=s(this.onRefresh,this),this.getItemWidth=s(this.getItemWidth,this),this.layout=s(this.layout,this),this.layoutFull=s(this.layoutFull,this),this.layoutColumns=s(this.layoutColumns,this),this.filter=s(this.filter,this),this.clear=s(this.clear,this),this.getActiveItems=s(this.getActiveItems,this),this.refreshPlaceholders=s(this.refreshPlaceholders,this),this.sortElements=s(this.sortElements,this),this.updateFilterClasses=s(this.updateFilterClasses,this),this.updateFilterClasses(),this.autoResize&&e(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return r.prototype.updateFilterClasses=function(){for(var e,t,r,i,s=0,o=0,u=0,a={},f=this.possibleFilters;this.handler.length>s;s++)if(t=this.handler.eq(s),e=t.data("filterClass"),"object"==typeof e&&e.length>0)for(o=0;e.length>o;o++)r=n(e[o]),a[r]||(a[r]=[]),a[r].push(t[0]);for(;f.length>u;u++)i=n(f[u]),i in a||(a[i]=[]);this.filterClasses=a},r.prototype.update=function(t){this.itemHeightsDirty=!0,e.extend(!0,this,t)},r.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},r.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},r.prototype.filter=function(t,r){var i,s,o,u,a,f=[],l=e();if(t=t||[],r=r||"or",t.length){for(s=0;t.length>s;s++)a=n(t[s]),a in this.filterClasses&&f.push(this.filterClasses[a]);if(i=f.length,"or"==r||1==i)for(s=0;i>s;s++)l=l.add(f[s]);else if("and"==r){var c,h,p,d=f[0],v=!0;for(s=1;i>s;s++)f[s].length<d.length&&(d=f[s]);for(d=d||[],s=0;d.length>s;s++){for(h=d[s],v=!0,o=0;f.length>o&&v;o++)if(p=f[o],d!=p){for(u=0,c=!1;p.length>u&&!c;u++)c=p[u]==h;v&=c}v&&l.push(d[s])}}this.handler.not(l).addClass("inactive")}else l=this.handler;l.removeClass("inactive"),this.columns=null,this.layout()},r.prototype.refreshPlaceholders=function(t,n){for(var r,i,s,o,u,a,f=this.placeholders.length,l=this.columns.length,c=this.container.innerHeight();l>f;f++)r=e('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(r);for(a=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10),f=0;this.placeholders.length>f;f++)if(r=this.placeholders[f],s=this.columns[f],f>=l||!s[s.length-1])r.css("display","none");else{if(i=s[s.length-1],!i)continue;u=i.data("wookmark-top")+i.data("wookmark-height")+this.offset,o=c-u-a,r.css({position:"absolute",display:o>0?"block":"none",left:f*t+n,top:u,width:t-a,height:o})}},r.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},r.prototype.getItemWidth=function(){var e=this.itemWidth,t=this.container.width()-2*this.outerOffset,n=this.handler.eq(0),r=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?e=n.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(e=parseFloat(this.itemWidth)/100*t),r){"string"==typeof r&&r.indexOf("%")>=0&&(r=parseFloat(r)/100*t);var i=~~(.5+(t+this.offset)/(r+this.offset)),s=Math.min(r,~~((t-(i-1)*this.offset)/i));e=Math.max(e,s),this.handler.css("width",e)}return e},r.prototype.layout=function(e){if(this.container.is(":visible")){var t,n=this.getItemWidth()+this.offset,r=this.container.width(),i=r-2*this.outerOffset,s=~~((i+this.offset)/n),o=0,u=0,a=0,f=this.getActiveItems(),l=f.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;l>a;a++)t=f.eq(a),t.data("wookmark-height",t.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}s=Math.max(1,Math.min(s,l)),o=this.outerOffset,"center"==this.align&&(o+=~~(.5+(i-(s*n-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),u=e||null===this.columns||this.columns.length!=s||this.activeItemCount!=l?this.layoutFull(n,s,o):this.layoutColumns(n,o),this.activeItemCount=l,this.container.css("height",u),this.fillEmptySpace&&this.refreshPlaceholders(n,o),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},r.prototype.sortElements=function(e){return"function"==typeof this.comparator?e.sort(this.comparator):e},r.prototype.layoutFull=function(n,r,i){var s,o,u=0,a=0,f=e.makeArray(this.getActiveItems()),l=f.length,c=null,h=null,p=[],d=[],v="left"==this.align?!0:!1;for(this.columns=[],f=this.sortElements(f);r>p.length;)p.push(this.outerOffset),this.columns.push([]);for(;l>u;u++){for(s=e(f[u]),c=p[0],h=0,a=0;r>a;a++)c>p[a]&&(c=p[a],h=a);s.data("wookmark-top",c),o=i,(h>0||!v)&&(o+=h*n),(d[u]={obj:s,css:{position:"absolute",top:c}}).css[this.direction]=o,p[h]+=s.data("wookmark-height")+this.offset,this.columns[h].push(s)}return t(d),Math.max.apply(Math,p)},r.prototype.layoutColumns=function(e,n){for(var r,i,s,o,u=[],a=[],f=0,l=0,c=0;this.columns.length>f;f++){for(u.push(this.outerOffset),i=this.columns[f],o=f*e+n,r=u[f],l=0;i.length>l;l++,c++)s=i[l].data("wookmark-top",r),(a[c]={obj:s,css:{top:r}}).css[this.direction]=o,r+=s.data("wookmark-height")+this.offset;u[f]=r}return t(a),Math.max.apply(Math,u)},r.prototype.clear=function(){clearTimeout(this.resizeTimer),e(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh),this.handler.wookmarkInstance=null},r}(),e.fn.wookmark=function(e){return this.wookmarkInstance?this.wookmarkInstance.update(e||{}):this.wookmarkInstance=new r(this,e||{}),this.wookmarkInstance.layout(!0),this.show()}});(function(e){e.fn.parallax=function(t){var n=e(window).height(),r=e.extend({speed:.15},t);return this.each(function(){var t=e(this);e(document).scroll(function(){var i=e(window).scrollTop(),s=t.offset().top,o=t.outerHeight();if(s+o<=i||s>=i+n)return;var u=Math.round((s-i)*r.speed);t.css({transform:"translate3d(0px,"+u+"px, 0px)"})})})}})(jQuery);jQuery(".swipebox, .wp-caption a").swipebox();jQuery(document).ready(function(){function e(){window.location=newLocation}jQuery("body").css("display","none");jQuery("body").fadeIn(500);jQuery(".aesop-fader").click(function(t){t.preventDefault();newLocation=this.href;jQuery("body").fadeOut(400,e)})});