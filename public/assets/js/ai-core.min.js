/*!
* FitVids 1.0.3
*/(function(e){e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],s="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";r.className="fit-vids-style";r.id="fit-vids-style";r.style.display="none";r.innerHTML=s;i.parentNode.insertBefore(r,i)}t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r=r.not("object object");r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);!function(e,t,n,r){n.swipebox=function(i,s){var o={useCSS:!0,initialIndexOnArray:0,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterClose:null},u=this,a=[],i=i,f=i.selector,l=n(f),c=t.createTouch!==r||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,h=!!e.SVGSVGElement,p=e.innerWidth?e.innerWidth:n(e).width(),d=e.innerHeight?e.innerHeight:n(e).height(),v='<div id="swipebox-overlay">				<div id="swipebox-slider"></div>				<div id="swipebox-caption"></div>				<div id="swipebox-action">					<a id="swipebox-close"></a>					<a id="swipebox-prev"></a>					<a id="swipebox-next"></a>				</div>		</div>';u.settings={};u.init=function(){u.settings=n.extend({},o,s);if(n.isArray(i)){a=i;m.target=n(e);m.init(u.settings.initialIndexOnArray)}else l.click(function(e){a=[];var t,r,i;if(!i){r="rel";i=n(this).attr(r)}i&&i!==""&&i!=="nofollow"?$elem=l.filter("["+r+'="'+i+'"]'):$elem=n(f);$elem.each(function(){var e=null,t=null;n(this).attr("title")&&(e=n(this).attr("title"));n(this).attr("href")&&(t=n(this).attr("href"));a.push({href:t,title:e})});t=$elem.index(n(this));e.preventDefault();e.stopPropagation();m.target=n(e.target);m.init(t)})};u.refresh=function(){if(!n.isArray(i)){m.destroy();$elem=n(f);m.actions()}};var m={init:function(e){u.settings.beforeOpen&&u.settings.beforeOpen();this.target.trigger("swipebox-start");n.swipebox.isOpen=!0;this.build();this.openSlide(e);this.openMedia(e);this.preloadMedia(e+1);this.preloadMedia(e-1)},build:function(){var e=this;n("body").append(v);if(e.doCssTrans()){n("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"});n("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"});n("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s",transition:"0.5s"})}if(h){var t=n("#swipebox-action #swipebox-close").css("background-image");t=t.replace("png","svg");n("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":t})}n.each(a,function(){n("#swipebox-slider").append('<div class="slide"></div>')});e.setDim();e.actions();e.keyboard();e.gesture();e.animBars();e.resize()},setDim:function(){var t,r,i={};if("onorientationchange"in e)e.addEventListener("orientationchange",function(){if(e.orientation==0){t=p;r=d}else if(e.orientation==90||e.orientation==-90){t=d;r=p}},!1);else{t=e.innerWidth?e.innerWidth:n(e).width();r=e.innerHeight?e.innerHeight:n(e).height()}i={width:t,height:r};n("#swipebox-overlay").css(i)},resize:function(){var t=this;n(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(var n=0;n<e.length;n++)if(t.createElement("div").style[e[n]]!==r)return e[n];return!1},doCssTrans:function(){if(u.settings.useCSS&&this.supportTransition())return!0},gesture:function(){if(c){var e=this,t=null,r=10,i={},s={},o=n("#swipebox-caption, #swipebox-action");o.addClass("visible-bars");e.setTimeout();n("body").bind("touchstart",function(e){n(this).addClass("touching");s=e.originalEvent.targetTouches[0];i.pageX=e.originalEvent.targetTouches[0].pageX;n(".touching").bind("touchmove",function(e){e.preventDefault();e.stopPropagation();s=e.originalEvent.targetTouches[0]});return!1}).bind("touchend",function(u){u.preventDefault();u.stopPropagation();t=s.pageX-i.pageX;if(t>=r)e.getPrev();else if(t<=-r)e.getNext();else if(!o.hasClass("visible-bars")){e.showBars();e.setTimeout()}else{e.clearTimeout();e.hideBars()}n(".touching").off("touchmove").removeClass("touching")})}},setTimeout:function(){if(u.settings.hideBarsDelay>0){var t=this;t.clearTimeout();t.timeout=e.setTimeout(function(){t.hideBars()},u.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout);this.timeout=null},showBars:function(){var e=n("#swipebox-caption, #swipebox-action");if(this.doCssTrans())e.addClass("visible-bars");else{n("#swipebox-caption").animate({top:0},500);n("#swipebox-action").animate({bottom:0},500);setTimeout(function(){e.addClass("visible-bars")},1e3)}},hideBars:function(){var e=n("#swipebox-caption, #swipebox-action");if(this.doCssTrans())e.removeClass("visible-bars");else{n("#swipebox-caption").animate({top:"-50px"},500);n("#swipebox-action").animate({bottom:"-50px"},500);setTimeout(function(){e.removeClass("visible-bars")},1e3)}},animBars:function(){var e=this,t=n("#swipebox-caption, #swipebox-action");t.addClass("visible-bars");e.setTimeout();n("#swipebox-slider").click(function(n){if(!t.hasClass("visible-bars")){e.showBars();e.setTimeout()}});n("#swipebox-action").hover(function(){e.showBars();t.addClass("force-visible-bars");e.clearTimeout()},function(){t.removeClass("force-visible-bars");e.setTimeout()})},keyboard:function(){var t=this;n(e).bind("keyup",function(e){e.preventDefault();e.stopPropagation();e.keyCode==37?t.getPrev():e.keyCode==39?t.getNext():e.keyCode==27&&t.closeSlide()})},actions:function(){var e=this;if(a.length<2)n("#swipebox-prev, #swipebox-next").hide();else{n("#swipebox-prev").bind("click touchend",function(t){t.preventDefault();t.stopPropagation();e.getPrev();e.setTimeout()});n("#swipebox-next").bind("click touchend",function(t){t.preventDefault();t.stopPropagation();e.getNext();e.setTimeout()})}n("#swipebox-close").bind("click touchend",function(t){e.closeSlide()})},setSlide:function(e,t){t=t||!1;var r=n("#swipebox-slider");this.doCssTrans()?r.css({left:-e*100+"%"}):r.animate({left:-e*100+"%"});n("#swipebox-slider .slide").removeClass("current");n("#swipebox-slider .slide").eq(e).addClass("current");this.setTitle(e);t&&r.fadeIn();n("#swipebox-prev, #swipebox-next").removeClass("disabled");e==0?n("#swipebox-prev").addClass("disabled"):e==a.length-1&&n("#swipebox-next").addClass("disabled")},openSlide:function(t){n("html").addClass("swipebox");n(e).trigger("resize");this.setSlide(t,!0)},preloadMedia:function(e){var t=this,n=null;a[e]!==r&&(n=a[e].href);t.isVideo(n)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t=this,i=null;a[e]!==r&&(i=a[e].href);if(e<0||e>=a.length)return!1;t.isVideo(i)?n("#swipebox-slider .slide").eq(e).html(t.getVideo(i)):t.loadMedia(i,function(){n("#swipebox-slider .slide").eq(e).html(this)})},setTitle:function(e,t){var i=null;n("#swipebox-caption").empty();a[e]!==r&&(i=a[e].title);i&&n("#swipebox-caption").append(i)},isVideo:function(e){if(e)if(e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/))return!0},getVideo:function(e){var t="",n="",r=e.match(/watch\?v=([a-zA-Z0-9\-_]+)/),i=e.match(/vimeo\.com\/([0-9]*)/);r?t='<iframe width="560" height="315" src="//www.youtube.com/embed/'+r[1]+'" frameborder="0" allowfullscreen></iframe>':i&&(t='<iframe width="560" height="315"  src="http://player.vimeo.com/video/'+i[1]+"?byline=0&amp;portrait=0&amp;color="+u.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');return'<div class="swipebox-video-container" style="max-width:'+u.settings.videomaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(!this.isVideo(e)){var r=n("<img>").on("load",function(){t.call(r)});r.attr("src",e)}},getNext:function(){var e=this;index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));if(index+1<a.length){index++;e.setSlide(index);e.preloadMedia(index+1)}else{n("#swipebox-slider").addClass("rightSpring");setTimeout(function(){n("#swipebox-slider").removeClass("rightSpring")},500)}},getPrev:function(){index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));if(index>0){index--;this.setSlide(index);this.preloadMedia(index-1)}else{n("#swipebox-slider").addClass("leftSpring");setTimeout(function(){n("#swipebox-slider").removeClass("leftSpring")},500)}},closeSlide:function(){n("html").removeClass("swipebox");n(e).trigger("resize");this.destroy()},destroy:function(){n(e).unbind("keyup");n("body").unbind("touchstart");n("body").unbind("touchmove");n("body").unbind("touchend");n("#swipebox-slider").unbind();n("#swipebox-overlay").remove();n.isArray(i)||i.removeData("_swipebox");this.target&&this.target.trigger("swipebox-destroy");n.swipebox.isOpen=!1;u.settings.afterClose&&u.settings.afterClose()}};u.init()};n.fn.swipebox=function(e){if(!n.data(this,"_swipebox")){var t=new n.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;(function(e,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)})(this,function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;i=n(r);c=e.call(r,"ontouchstart")>=0;u={horizontal:{},vertical:{}};a=1;l={};f="waypoints-context-id";d="resize.waypoints";v="scroll.waypoints";m=1;g="waypoints-waypoint-ids";y="waypoint";b="waypoints";s=function(){function e(e){var t=this;this.$element=e;this.element=e[0];this.didResize=!1;this.didScroll=!1;this.id="context"+a++;this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()};this.waypoints={horizontal:{},vertical:{}};e.data(f,this.id);l[this.id]=this;e.bind(v,function(){var e;if(!t.didScroll&&!c){t.didScroll=!0;e=function(){t.doScroll();return t.didScroll=!1};return r.setTimeout(e,n[b].settings.scrollThrottle)}});e.bind(d,function(){var e;if(!t.didResize){t.didResize=!0;e=function(){n[b]("refresh");return t.didResize=!1};return r.setTimeout(e,n[b].settings.resizeThrottle)}})}e.prototype.doScroll=function(){var e,t=this;e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};c&&(!e.vertical.oldScroll||!e.vertical.newScroll)&&n[b]("refresh");n.each(e,function(e,r){var i,s,o;o=[];s=r.newScroll>r.oldScroll;i=s?r.forward:r.backward;n.each(t.waypoints[e],function(e,t){var n,i;if(r.oldScroll<(n=t.offset)&&n<=r.newScroll)return o.push(t);if(r.newScroll<(i=t.offset)&&i<=r.oldScroll)return o.push(t)});o.sort(function(e,t){return e.offset-t.offset});s||o.reverse();return n.each(o,function(e,t){if(t.options.continuous||e===o.length-1)return t.trigger([i])})});return this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}};e.prototype.refresh=function(){var e,t,r,i=this;r=n.isWindow(this.element);t=this.$element.offset();this.doScroll();e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,s,o,u,a;i=r.options.offset;o=r.offset;s=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp];if(n.isFunction(i))i=i.apply(r.element);else if(typeof i=="string"){i=parseFloat(i);r.options.offset.indexOf("%")>-1&&(i=Math.ceil(t.contextDimension*i/100))}r.offset=s-t.contextOffset+t.contextScroll-i;if(r.options.onlyOnScroll&&o!=null||!r.enabled)return;if(o!==null&&o<(u=t.oldScroll)&&u<=r.offset)return r.trigger([t.backward]);if(o!==null&&o>(a=t.oldScroll)&&a>=r.offset)return r.trigger([t.forward]);if(o===null&&t.oldScroll>=r.offset)return r.trigger([t.forward])})})};e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([d,v].join(" "));return delete l[this.id]}};return e}();o=function(){function e(e,t,r){var i,s;r=n.extend({},n.fn[y].defaults,r);r.offset==="bottom-in-view"&&(r.offset=function(){var e;e=n[b]("viewportHeight");n.isWindow(t.element)||(e=t.$element.height());return e-n(this).outerHeight()});this.$element=e;this.element=e[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+m++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;u[this.axis][this.id]=this;i=(s=e.data(g))!=null?s:[];i.push(this.id);e.data(g,i)}e.prototype.trigger=function(e){if(!this.enabled)return;this.callback!=null&&this.callback.apply(this.element,e);if(this.options.triggerOnce)return this.destroy()};e.prototype.disable=function(){return this.enabled=!1};e.prototype.enable=function(){this.context.refresh();return this.enabled=!0};e.prototype.destroy=function(){delete u[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};e.getWaypointsByElement=function(e){var t,r;r=n(e).data(g);if(!r)return[];t=n.extend({},u.horizontal,u.vertical);return n.map(r,function(e){return t[e]})};return e}();p={init:function(e,t){var r;t==null&&(t={});(r=t.handler)==null&&(t.handler=e);this.each(function(){var e,r,i,u;e=n(this);i=(u=t.context)!=null?u:n.fn[y].defaults.context;n.isWindow(i)||(i=e.closest(i));i=n(i);r=l[i.data(f)];r||(r=new s(i));return new o(e,r,t)});n[b]("refresh");return this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,i){var s,o;e==null&&(e="vertical");t==null&&(t=r);o=h.aggregate(t);s=[];this.each(function(){var t;t=n.inArray(this,o[e]);return i(s,t,o[e])});return this.pushStack(s)},_invoke:function(e,t){e.each(function(){var e;e=o.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return!0})});return this}};n.fn[y]=function(){var e,r;r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];return p[r]?p[r].apply(this,e):n.isFunction(r)?p.init.apply(this,arguments):n.isPlainObject(r)?p.init.apply(this,[null,r]):r?n.error("The "+r+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")};n.fn[y].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};h={refresh:function(){return n.each(l,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=r.innerHeight)!=null?e:i.height()},aggregate:function(e){var t,r,i;t=u;e&&(t=(i=l[n(e).data(f)])!=null?i.waypoints:void 0);if(!t)return[];r={horizontal:[],vertical:[]};n.each(r,function(e,i){n.each(t[e],function(e,t){return i.push(t)});i.sort(function(e,t){return e.offset-t.offset});r[e]=n.map(i,function(e){return e.element});return r[e]=n.unique(r[e])});return r},above:function(e){e==null&&(e=r);return h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){e==null&&(e=r);return h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){e==null&&(e=r);return h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){e==null&&(e=r);return h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;t=n.extend({},u.vertical,u.horizontal);return n.each(t,function(t,n){n[e]();return!0})},_filter:function(e,t,r){var i,s;i=l[n(e).data(f)];if(!i)return[];s=[];n.each(i.waypoints[t],function(e,t){if(r(i,t))return s.push(t)});s.sort(function(e,t){return e.offset-t.offset});return n.map(s,function(e){return e.element})}};n[b]=function(){var e,n;n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];return h[n]?h[n].apply(null,e):h.aggregate.call(null,n)};n[b].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[b]("refresh")})})}).call(this);(function(e,t,n){"use strict";function r(n){if(i=t.documentElement,s=t.body,W(),ot=this,n=n||{},ct=n.constants||{},n.easing)for(var r in n.easing)$[r]=n.easing[r];yt=n.edgeStrategy||"set",ft={beforerender:n.beforerender,render:n.render},lt=n.forceHeight!==!1,lt&&(Dt=n.scale||1),ht=n.mobileDeceleration||T,dt=n.smoothScrolling!==!1,vt=n.smoothScrollingDuration||N,mt={targetTop:ot.getScrollTop()},Rt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Rt?(at=t.getElementById("skrollr-body"),at&&st(),J(),kt(i,[y,E],[b])):kt(i,[y,w],[b]),ot.refresh(),Et(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==Ft||e!==jt)&&(Ft=t,jt=e,It=!0)});var o=X();return function u(){G(),wt=o(u)}(),ot}var i,s,o=e.skrollr={get:function(){return ot},init:function(e){return ot||new r(e)},VERSION:"0.6.17"},u=Object.prototype.hasOwnProperty,a=e.Math,f=e.getComputedStyle,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=.004,N=200,C="start",k="end",L="center",A="bottom",O="___skrollable_id",M=/^(?:input|textarea|button|select)$/i,_=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,P=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,H=/^([a-z\-]+)\[(\w+)\]$/,B=/-([a-z])/g,j=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,I=/\{\?\}/g,q=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,R=/[a-z\-]+-gradient/g,U="",z="",W=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(s,null);for(var r in t)if(U=r.match(e)||+r==r&&t[r].match(e))break;if(!U)return U=z="",n;U=U[0],"-"===U.slice(0,1)?(z=U,U={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[U]):z="-"+U.toLowerCase()+"-"}},X=function(){var t=e.requestAnimationFrame||e[U.toLowerCase()+"RequestAnimationFrame"],n=Ot();return(Rt||!t)&&(t=function(t){var r=Ot()-n,i=a.max(0,1e3/60-r);return e.setTimeout(function(){n=Ot(),t()},i)}),t},V=function(){var t=e.cancelAnimationFrame||e[U.toLowerCase()+"CancelAnimationFrame"];return(Rt||!t)&&(t=function(t){return e.clearTimeout(t)}),t},$={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-a.cos(e*a.PI)/2+.5},sqrt:function(e){return a.sqrt(e)},outCubic:function(e){return a.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-a.abs(3*a.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,i,s=!1;for(e===n?(s=!0,ut=[],qt=0,e=t.getElementsByTagName("*")):e=[].concat(e),r=0,i=e.length;i>r;r++){var o=e[r],u=o,a=[],f=dt,l=yt;if(o.attributes){for(var c=0,h=o.attributes.length;h>c;c++){var p=o.attributes[c];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name){var v=p.name.match(D);if(null!==v){var m={props:p.value,element:o};a.push(m);var g=v[1];g=g&&ct[g.substr(1)]||0;var y=v[2];/p$/.test(y)?(m.isPercentage=!0,m.offset=((0|y.slice(0,-1))+g)/100):m.offset=(0|y)+g;var b=v[3],w=v[4]||b;b&&b!==C&&b!==k?(m.mode="relative",m.anchors=[b,w]):(m.mode="absolute",b===k?m.isEnd=!0:m.isPercentage||(m.frame=m.offset*Dt,delete m.offset))}}else l=p.value;else f="off"!==p.value;else if(u=t.querySelector(p.value),null===u)throw'Unable to find anchor target "'+p.value+'"'}if(a.length){var E,S,x;!s&&O in o?(x=o[O],E=ut[x].styleAttr,S=ut[x].classAttr):(x=o[O]=qt++,E=o.style.cssText,S=Ct(o)),ut[x]={element:o,styleAttr:E,classAttr:S,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l},kt(o,[d],[])}}}for(Tt(),r=0,i=e.length;i>r;r++){var T=ut[e[r][O]];T!==n&&(Y(T),et(T))}return ot},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,s=e.getBoundingClientRect(),o=s.top,u=s.bottom-s.top;return t===A?o-=r:t===L&&(o-=r/2),n===A?o+=u:n===L&&(o+=u/2),o+=ot.getScrollTop(),0|o+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=Ot(),i=ot.getScrollTop();return pt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:$[t.easing||S],done:t.done},pt.topDiff||(pt.done&&pt.done.call(ot,!1),pt=n),ot},r.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(ot,!0),pt=n},r.prototype.isAnimatingTo=function(){return!!pt},r.prototype.setScrollTop=function(t,n){return gt=n===!0,Rt?Ut=a.min(a.max(t,0),_t):e.scrollTo(0,t),ot},r.prototype.getScrollTop=function(){return Rt?Ut:e.pageYOffset||i.scrollTop||s.scrollTop||0},r.prototype.getMaxScrollTop=function(){return _t},r.prototype.on=function(e,t){return ft[e]=t,ot},r.prototype.off=function(e){return delete ft[e],ot},r.prototype.destroy=function(){var e=V();e(wt),xt(),kt(i,[b],[y,w,E]);for(var t=0,r=ut.length;r>t;t++)it(ut[t].element);i.style.overflow=s.style.overflow="auto",i.style.height=s.style.height="auto",at&&o.setStyle(at,"transform","none"),ot=n,at=n,ft=n,lt=n,_t=0,Dt=1,ct=n,ht=n,Pt="down",Ht=-1,jt=0,Ft=0,It=!1,pt=n,dt=n,vt=n,mt=n,gt=n,qt=0,yt=n,Rt=!1,Ut=0,bt=n};var J=function(){var r,o,u,f,d,v,m,g,y,b,w,E;Et(i,[l,c,h,p].join(" "),function(e){var i=e.changedTouches[0];for(f=e.target;3===f.nodeType;)f=f.parentNode;switch(d=i.clientY,v=i.clientX,b=e.timeStamp,M.test(f.tagName)||e.preventDefault(),e.type){case l:r&&r.blur(),ot.stopAnimateTo(),r=f,o=m=d,u=v,y=b;break;case c:g=d-m,E=b-w,ot.setScrollTop(Ut-g,!0),m=d,w=b;break;default:case h:case p:var s=o-d,S=u-v,x=S*S+s*s;if(49>x){if(!M.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(T)}return}r=n;var N=g/E;N=a.max(a.min(N,3),-3);var C=a.abs(N/ht),k=N*C+.5*ht*C*C,L=ot.getScrollTop()-k,A=0;L>_t?(A=(_t-L)/k,L=_t):0>L&&(A=-L/k,L=0),C*=1-A,ot.animateTo(0|L+.5,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),i.style.overflow=s.style.overflow="hidden"},K=function(){var e,t,n,r,s,o,u,f,l;for(f=0,l=ut.length;l>f;f++)for(e=ut[f],t=e.element,n=e.anchorTarget,r=e.keyFrames,s=0,o=r.length;o>s;s++){u=r[s];var c=u.offset;u.isPercentage&&(c*=i.clientHeight,u.frame=c),"relative"===u.mode&&(it(t),u.frame=ot.relativeToAbsolute(n,u.anchors[0],u.anchors[1])-c,it(t,!0)),lt&&!u.isEnd&&u.frame>_t&&(_t=u.frame)}for(_t=a.max(_t,Nt()),f=0,l=ut.length;l>f;f++){for(e=ut[f],r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],u.isEnd&&(u.frame=_t-u.offset);e.keyFrames.sort(Mt)}},Q=function(e,t){for(var n=0,r=ut.length;r>n;n++){var i,s,a=ut[n],f=a.element,l=a.smoothScrolling?e:t,c=a.keyFrames,h=c[0].frame,p=c[c.length-1].frame,y=h>l,b=l>p,w=c[y?0:c.length-1];if(y||b){if(y&&-1===a.edge||b&&1===a.edge)continue;switch(kt(f,[y?v:g],[v,m,g]),a.edge=y?-1:1,a.edgeStrategy){case"reset":it(f);continue;case"ease":l=w.frame;break;default:case"set":var E=w.props;for(i in E)u.call(E,i)&&(s=rt(E[i].value),o.setStyle(f,i,s));continue}}else 0!==a.edge&&(kt(f,[d,m],[v,g]),a.edge=0);for(var S=0,x=c.length-1;x>S;S++)if(l>=c[S].frame&&c[S+1].frame>=l){var T=c[S],N=c[S+1];for(i in T.props)if(u.call(T.props,i)){var C=(l-T.frame)/(N.frame-T.frame);C=T.props[i].easing(C),s=nt(T.props[i].value,N.props[i].value,C),s=rt(s),o.setStyle(f,i,s)}break}}},G=function(){It&&(It=!1,Tt());var e,t,r=ot.getScrollTop(),i=Ot();if(pt)i>=pt.endTime?(r=pt.targetTop,e=pt.done,pt=n):(t=pt.easing((i-pt.startTime)/pt.duration),r=0|pt.startTop+t*pt.topDiff),ot.setScrollTop(r,!0);else if(!gt){var s=mt.targetTop-r;s&&(mt={startTop:Ht,topDiff:r-Ht,targetTop:r,startTime:Bt,endTime:Bt+vt}),mt.endTime>=i&&(t=$.sqrt((i-mt.startTime)/vt),r=0|mt.startTop+t*mt.topDiff)}if(Rt&&at&&o.setStyle(at,"transform","translate(0, "+ -Ut+"px) "+bt),gt||Ht!==r){Pt=r>Ht?"down":Ht>r?"up":Pt,gt=!1;var u={curTop:r,lastTop:Ht,maxTop:_t,direction:Pt},a=ft.beforerender&&ft.beforerender.call(ot,u);a!==!1&&(Q(r,ot.getScrollTop()),Ht=r,ft.render&&ft.render.call(ot,u)),e&&e.call(ot,!1)}Bt=i},Y=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,s,o,u=e.keyFrames[t],a={};null!==(o=P.exec(u.props));)s=o[1],i=o[2],r=s.match(H),null!==r?(s=r[1],r=r[2]):r=S,i=i.indexOf("!")?Z(i):[i.slice(1)],a[s]={value:i,easing:$[r]};u.props=a}},Z=function(e){var t=[];return q.lastIndex=0,e=e.replace(q,function(e){return e.replace(F,function(e){return 100*(e/255)+"%"})}),z&&(R.lastIndex=0,e=e.replace(R,function(e){return z+e})),e=e.replace(F,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)tt(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],r)},tt=function(e,t){var n;for(n in t)u.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(r=1;i>r;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},rt=function(e){var t=1;return I.lastIndex=0,e[0].replace(I,function(){return e[t++]})},it=function(e,t){e=[].concat(e);for(var n,r,i=0,s=e.length;s>i;i++)r=e[i],n=ut[r[O]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,kt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ct(r),r.style.cssText=n.styleAttr,kt(r,n.classAttr)))},st=function(){bt="translateZ(0)",o.setStyle(at,"transform",bt);var e=f(at),t=e.getPropertyValue("transform"),n=e.getPropertyValue(z+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(bt="")};o.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,j).replace("-",""),"zIndex"===t)r[t]=isNaN(n)?n:""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{U&&(r[U+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et=o.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),r.call(this,t)};n=n.split(" ");for(var s,o=0,u=n.length;u>o;o++)s=n[o],t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i),zt.push({element:t,name:s,listener:r})},St=o.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},xt=function(){for(var e,t=0,n=zt.length;n>t;t++)e=zt[t],St(e.element,e.name,e.listener);zt=[]},Tt=function(){var e=ot.getScrollTop();_t=0,lt&&!Rt&&(s.style.height="auto"),K(),lt&&!Rt&&(s.style.height=_t+i.clientHeight+"px"),Rt?ot.setScrollTop(a.min(ot.getScrollTop(),_t)):ot.setScrollTop(e,!0),gt=!0},Nt=function(){var e=at&&at.offsetHeight||0,t=a.max(e,s.scrollHeight,s.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},Ct=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},kt=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),i===n)return t[s]=r,n;for(var o=t[s],u=0,a=i.length;a>u;u++)o=At(o).replace(At(i[u])," ");o=Lt(o);for(var f=0,l=r.length;l>f;f++)-1===At(o).indexOf(At(r[f]))&&(o+=" "+r[f]);t[s]=Lt(o)},Lt=function(e){return e.replace(_,"")},At=function(e){return" "+e+" "},Ot=Date.now||function(){return+(new Date)},Mt=function(e,t){return e.frame-t.frame},_t=0,Dt=1,Pt="down",Ht=-1,Bt=Ot(),jt=0,Ft=0,It=!1,qt=0,Rt=!1,Ut=0,zt=[]})(window,document);jQuery(".swipebox, .wp-caption a").swipebox();jQuery(document).ready(function(){function e(){window.location=newLocation}jQuery("body").css("display","none");jQuery("body").fadeIn(500);jQuery(".aesop-fader").click(function(t){t.preventDefault();newLocation=this.href;jQuery("body").fadeOut(400,e)})});(function(e){e.fn.parallax=function(t){var n=e(window).height(),r=e.extend({speed:.15},t);return this.each(function(){var t=e(this);e(document).scroll(function(){var i=e(window).scrollTop(),s=t.offset().top,o=t.outerHeight();if(s+o<=i||s>=i+n)return;var u=Math.round((s-i)*r.speed);t.css("background-position","center "+u+"px")})})}})(jQuery);