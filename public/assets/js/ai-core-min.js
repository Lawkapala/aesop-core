(function(b){b.fn.fitVids=function(a){var j={customSelector:null};if(!document.getElementById("fit-vids-style")){var g=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],h="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";g.className="fit-vids-style";g.id="fit-vids-style";g.style.display="none";g.innerHTML=h;i.parentNode.insertBefore(g,i)}if(a){b.extend(j,a)}return this.each(function(){var d=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(j.customSelector){d.push(j.customSelector)}var c=b(this).find(d.join(","));c=c.not("object object");c.each(function(){var e=b(this);if(this.tagName.toLowerCase()==="embed"&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length){return}var p=(this.tagName.toLowerCase()==="object"||(e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))))?parseInt(e.attr("height"),10):e.height(),o=!isNaN(parseInt(e.attr("width"),10))?parseInt(e.attr("width"),10):e.width(),n=p/o;if(!e.attr("id")){var f="fitvid"+Math.floor(Math.random()*999999);e.attr("id",f)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(n*100)+"%");e.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);!function(b,a,c,d){c.swipebox=function(g,q){var j={useCSS:true,initialIndexOnArray:0,hideBarsDelay:3000,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterClose:null},n=this,e=[],g=g,h=g.selector,p=c(h),k=a.createTouch!==d||"ontouchstart" in b||"onmsgesturechange" in b||navigator.msMaxTouchPoints,l=!!b.SVGSVGElement,f=b.innerWidth?b.innerWidth:c(b).width(),i=b.innerHeight?b.innerHeight:c(b).height(),m='<div id="swipebox-overlay">				<div id="swipebox-slider"></div>				<div id="swipebox-caption"></div>				<div id="swipebox-action">					<a id="swipebox-close"></a>					<a id="swipebox-prev"></a>					<a id="swipebox-next"></a>				</div>		</div>';n.settings={};n.init=function(){n.settings=c.extend({},j,q);if(c.isArray(g)){e=g;o.target=c(b);o.init(n.settings.initialIndexOnArray)}else{p.click(function(t){e=[];var r,s,u;if(!u){s="rel";u=c(this).attr(s)}if(u&&u!==""&&u!=="nofollow"){$elem=p.filter("["+s+'="'+u+'"]')}else{$elem=c(h)}$elem.each(function(){var w=null,v=null;if(c(this).attr("title")){w=c(this).attr("title")}if(c(this).attr("href")){v=c(this).attr("href")}e.push({href:v,title:w})});r=$elem.index(c(this));t.preventDefault();t.stopPropagation();o.target=c(t.target);o.init(r)})}};n.refresh=function(){if(!c.isArray(g)){o.destroy();$elem=c(h);o.actions()}};var o={init:function(r){if(n.settings.beforeOpen){n.settings.beforeOpen()}this.target.trigger("swipebox-start");c.swipebox.isOpen=true;this.build();this.openSlide(r);this.openMedia(r);this.preloadMedia(r+1);this.preloadMedia(r-1)},build:function(){var s=this;c("body").append(m);if(s.doCssTrans()){c("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"});c("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"});c("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s",transition:"0.5s"})}if(l){var r=c("#swipebox-action #swipebox-close").css("background-image");r=r.replace("png","svg");c("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":r})}c.each(e,function(){c("#swipebox-slider").append('<div class="slide"></div>')});s.setDim();s.actions();s.keyboard();s.gesture();s.animBars();s.resize()},setDim:function(){var t,r,s={};if("onorientationchange" in b){b.addEventListener("orientationchange",function(){if(b.orientation==0){t=f;r=i}else{if(b.orientation==90||b.orientation==-90){t=i;r=f}}},false)}else{t=b.innerWidth?b.innerWidth:c(b).width();r=b.innerHeight?b.innerHeight:c(b).height()}s={width:t,height:r};c("#swipebox-overlay").css(s)},resize:function(){var r=this;c(b).resize(function(){r.setDim()}).resize()},supportTransition:function(){var s="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(var r=0;r<s.length;r++){if(a.createElement("div").style[s[r]]!==d){return s[r]}}return false},doCssTrans:function(){if(n.settings.useCSS&&this.supportTransition()){return true}},gesture:function(){if(k){var v=this,w=null,u=10,t={},r={};var s=c("#swipebox-caption, #swipebox-action");s.addClass("visible-bars");v.setTimeout();c("body").bind("touchstart",function(x){c(this).addClass("touching");r=x.originalEvent.targetTouches[0];t.pageX=x.originalEvent.targetTouches[0].pageX;c(".touching").bind("touchmove",function(y){y.preventDefault();y.stopPropagation();r=y.originalEvent.targetTouches[0]});return false}).bind("touchend",function(x){x.preventDefault();x.stopPropagation();w=r.pageX-t.pageX;if(w>=u){v.getPrev()}else{if(w<=-u){v.getNext()}else{if(!s.hasClass("visible-bars")){v.showBars();v.setTimeout()}else{v.clearTimeout();v.hideBars()}}}c(".touching").off("touchmove").removeClass("touching")})}},setTimeout:function(){if(n.settings.hideBarsDelay>0){var r=this;r.clearTimeout();r.timeout=b.setTimeout(function(){r.hideBars()},n.settings.hideBarsDelay)}},clearTimeout:function(){b.clearTimeout(this.timeout);this.timeout=null},showBars:function(){var r=c("#swipebox-caption, #swipebox-action");if(this.doCssTrans()){r.addClass("visible-bars")}else{c("#swipebox-caption").animate({top:0},500);c("#swipebox-action").animate({bottom:0},500);setTimeout(function(){r.addClass("visible-bars")},1000)}},hideBars:function(){var r=c("#swipebox-caption, #swipebox-action");if(this.doCssTrans()){r.removeClass("visible-bars")}else{c("#swipebox-caption").animate({top:"-50px"},500);c("#swipebox-action").animate({bottom:"-50px"},500);setTimeout(function(){r.removeClass("visible-bars")},1000)}},animBars:function(){var s=this;var r=c("#swipebox-caption, #swipebox-action");r.addClass("visible-bars");s.setTimeout();c("#swipebox-slider").click(function(t){if(!r.hasClass("visible-bars")){s.showBars();s.setTimeout()}});c("#swipebox-action").hover(function(){s.showBars();r.addClass("force-visible-bars");s.clearTimeout()},function(){r.removeClass("force-visible-bars");s.setTimeout()})},keyboard:function(){var r=this;c(b).bind("keyup",function(s){s.preventDefault();s.stopPropagation();if(s.keyCode==37){r.getPrev()}else{if(s.keyCode==39){r.getNext()}else{if(s.keyCode==27){r.closeSlide()}}}})},actions:function(){var r=this;if(e.length<2){c("#swipebox-prev, #swipebox-next").hide()}else{c("#swipebox-prev").bind("click touchend",function(s){s.preventDefault();s.stopPropagation();r.getPrev();r.setTimeout()});c("#swipebox-next").bind("click touchend",function(s){s.preventDefault();s.stopPropagation();r.getNext();r.setTimeout()})}c("#swipebox-close").bind("click touchend",function(s){r.closeSlide()})},setSlide:function(s,r){r=r||false;var t=c("#swipebox-slider");if(this.doCssTrans()){t.css({left:-s*100+"%"})}else{t.animate({left:-s*100+"%"})}c("#swipebox-slider .slide").removeClass("current");c("#swipebox-slider .slide").eq(s).addClass("current");this.setTitle(s);if(r){t.fadeIn()}c("#swipebox-prev, #swipebox-next").removeClass("disabled");if(s==0){c("#swipebox-prev").addClass("disabled")}else{if(s==e.length-1){c("#swipebox-next").addClass("disabled")}}},openSlide:function(r){c("html").addClass("swipebox");c(b).trigger("resize");this.setSlide(r,true)},preloadMedia:function(r){var s=this,t=null;if(e[r]!==d){t=e[r].href}if(!s.isVideo(t)){setTimeout(function(){s.openMedia(r)},1000)}else{s.openMedia(r)}},openMedia:function(r){var s=this,t=null;if(e[r]!==d){t=e[r].href}if(r<0||r>=e.length){return false}if(!s.isVideo(t)){s.loadMedia(t,function(){c("#swipebox-slider .slide").eq(r).html(this)})}else{c("#swipebox-slider .slide").eq(r).html(s.getVideo(t))}},setTitle:function(s,r){var t=null;c("#swipebox-caption").empty();if(e[s]!==d){t=e[s].title}if(t){c("#swipebox-caption").append(t)}},isVideo:function(r){if(r){if(r.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||r.match(/vimeo\.com\/([0-9]*)/)){return true}}},getVideo:function(t){var u="";var s="";var r=t.match(/watch\?v=([a-zA-Z0-9\-_]+)/);var v=t.match(/vimeo\.com\/([0-9]*)/);if(r){u='<iframe width="560" height="315" src="//www.youtube.com/embed/'+r[1]+'" frameborder="0" allowfullscreen></iframe>'}else{if(v){u='<iframe width="560" height="315"  src="http://player.vimeo.com/video/'+v[1]+"?byline=0&amp;portrait=0&amp;color="+n.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}}return'<div class="swipebox-video-container" style="max-width:'+n.settings.videomaxWidth+'px"><div class="swipebox-video">'+u+"</div></div>"},loadMedia:function(s,t){if(!this.isVideo(s)){var r=c("<img>").on("load",function(){t.call(r)});r.attr("src",s)}},getNext:function(){var r=this;index=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));if(index+1<e.length){index++;r.setSlide(index);r.preloadMedia(index+1)}else{c("#swipebox-slider").addClass("rightSpring");setTimeout(function(){c("#swipebox-slider").removeClass("rightSpring")},500)}},getPrev:function(){index=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));if(index>0){index--;this.setSlide(index);this.preloadMedia(index-1)}else{c("#swipebox-slider").addClass("leftSpring");setTimeout(function(){c("#swipebox-slider").removeClass("leftSpring")},500)}},closeSlide:function(){c("html").removeClass("swipebox");c(b).trigger("resize");this.destroy()},destroy:function(){c(b).unbind("keyup");c("body").unbind("touchstart");c("body").unbind("touchmove");c("body").unbind("touchend");c("#swipebox-slider").unbind();c("#swipebox-overlay").remove();if(!c.isArray(g)){g.removeData("_swipebox")}if(this.target){this.target.trigger("swipebox-destroy")}c.swipebox.isOpen=false;if(n.settings.afterClose){n.settings.afterClose()}}};n.init()};c.fn.swipebox=function(f){if(!c.data(this,"_swipebox")){var e=new c.swipebox(this,f);this.data("_swipebox",e)}return this.data("_swipebox")}}(window,document,jQuery);(function(){var a=[].indexOf||function(c){for(var d=0,f=this.length;d<f;d++){if(d in this&&this[d]===c){return d}}return -1},b=[].slice;(function(c,d){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(e){return d(e,c)})}else{return d(c.jQuery,c)}})(this,function(B,x){var E,A,D,t,H,q,K,J,F,I,z,e,k,j,G,C;E=B(x);J=a.call(x,"ontouchstart")>=0;t={horizontal:{},vertical:{}};H=1;K={};q="waypoints-context-id";z="resize.waypoints";e="scroll.waypoints";k=1;j="waypoints-waypoint-ids";G="waypoint";C="waypoints";A=function(){function c(d){var f=this;this.$element=d;this.element=d[0];this.didResize=false;this.didScroll=false;this.id="context"+H++;this.oldScroll={x:d.scrollLeft(),y:d.scrollTop()};this.waypoints={horizontal:{},vertical:{}};d.data(q,this.id);K[this.id]=this;d.bind(e,function(){var g;if(!(f.didScroll||J)){f.didScroll=true;g=function(){f.doScroll();return f.didScroll=false};return x.setTimeout(g,B[C].settings.scrollThrottle)}});d.bind(z,function(){var g;if(!f.didResize){f.didResize=true;g=function(){B[C]("refresh");return f.didResize=false};return x.setTimeout(g,B[C].settings.resizeThrottle)}})}c.prototype.doScroll=function(){var d,f=this;d={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(J&&(!d.vertical.oldScroll||!d.vertical.newScroll)){B[C]("refresh")}B.each(d,function(m,n){var h,p,g;g=[];p=n.newScroll>n.oldScroll;h=p?n.forward:n.backward;B.each(f.waypoints[m],function(o,r){var s,l;if(n.oldScroll<(s=r.offset)&&s<=n.newScroll){return g.push(r)}else{if(n.newScroll<(l=r.offset)&&l<=n.oldScroll){return g.push(r)}}});g.sort(function(i,l){return i.offset-l.offset});if(!p){g.reverse()}return B.each(g,function(i,l){if(l.options.continuous||i===g.length-1){return l.trigger([h])}})});return this.oldScroll={x:d.horizontal.newScroll,y:d.vertical.newScroll}};c.prototype.refresh=function(){var f,h,g,d=this;g=B.isWindow(this.element);h=this.$element.offset();this.doScroll();f={horizontal:{contextOffset:g?0:h.left,contextScroll:g?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:g?0:h.top,contextScroll:g?0:this.oldScroll.y,contextDimension:g?B[C]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return B.each(f,function(i,l){return B.each(d.waypoints[i],function(p,v){var n,y,m,u,w;n=v.options.offset;m=v.offset;y=B.isWindow(v.element)?0:v.$element.offset()[l.offsetProp];if(B.isFunction(n)){n=n.apply(v.element)}else{if(typeof n==="string"){n=parseFloat(n);if(v.options.offset.indexOf("%")>-1){n=Math.ceil(l.contextDimension*n/100)}}}v.offset=y-l.contextOffset+l.contextScroll-n;if(v.options.onlyOnScroll&&m!=null||!v.enabled){return}if(m!==null&&m<(u=l.oldScroll)&&u<=v.offset){return v.trigger([l.backward])}else{if(m!==null&&m>(w=l.oldScroll)&&w>=v.offset){return v.trigger([l.forward])}else{if(m===null&&l.oldScroll>=v.offset){return v.trigger([l.forward])}}}})})};c.prototype.checkEmpty=function(){if(B.isEmptyObject(this.waypoints.horizontal)&&B.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([z,e].join(" "));return delete K[this.id]}};return c}();D=function(){function c(f,h,g){var d,l;g=B.extend({},B.fn[G].defaults,g);if(g.offset==="bottom-in-view"){g.offset=function(){var i;i=B[C]("viewportHeight");if(!B.isWindow(h.element)){i=h.$element.height()}return i-B(this).outerHeight()}}this.$element=f;this.element=f[0];this.axis=g.horizontal?"horizontal":"vertical";this.callback=g.handler;this.context=h;this.enabled=g.enabled;this.id="waypoints"+k++;this.offset=null;this.options=g;h.waypoints[this.axis][this.id]=this;t[this.axis][this.id]=this;d=(l=f.data(j))!=null?l:[];d.push(this.id);f.data(j,d)}c.prototype.trigger=function(d){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,d)}if(this.options.triggerOnce){return this.destroy()}};c.prototype.disable=function(){return this.enabled=false};c.prototype.enable=function(){this.context.refresh();return this.enabled=true};c.prototype.destroy=function(){delete t[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};c.getWaypointsByElement=function(d){var g,f;f=B(d).data(j);if(!f){return[]}g=B.extend({},t.horizontal,t.vertical);return B.map(f,function(h){return g[h]})};return c}();I={init:function(c,f){var d;if(f==null){f={}}if((d=f.handler)==null){f.handler=c}this.each(function(){var h,m,g,l;h=B(this);g=(l=f.context)!=null?l:B.fn[G].defaults.context;if(!B.isWindow(g)){g=h.closest(g)}g=B(g);m=K[g.data(q)];if(!m){m=new A(g)}return new D(h,m,f)});B[C]("refresh");return this},disable:function(){return I._invoke(this,"disable")},enable:function(){return I._invoke(this,"enable")},destroy:function(){return I._invoke(this,"destroy")},prev:function(c,d){return I._traverse.call(this,c,d,function(f,g,h){if(g>0){return f.push(h[g-1])}})},next:function(c,d){return I._traverse.call(this,c,d,function(f,g,h){if(g<h.length-1){return f.push(h[g+1])}})},_traverse:function(f,g,d){var h,c;if(f==null){f="vertical"}if(g==null){g=x}c=F.aggregate(g);h=[];this.each(function(){var i;i=B.inArray(this,c[f]);return d(h,i,c[f])});return this.pushStack(h)},_invoke:function(c,d){c.each(function(){var f;f=D.getWaypointsByElement(this);return B.each(f,function(g,h){h[d]();return true})});return this}};B.fn[G]=function(){var c,d;d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[];if(I[d]){return I[d].apply(this,c)}else{if(B.isFunction(d)){return I.init.apply(this,arguments)}else{if(B.isPlainObject(d)){return I.init.apply(this,[null,d])}else{if(!d){return B.error("jQuery Waypoints needs a callback function or handler option.")}else{return B.error("The "+d+" method does not exist in jQuery Waypoints.")}}}}};B.fn[G].defaults={context:x,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};F={refresh:function(){return B.each(K,function(c,d){return d.refresh()})},viewportHeight:function(){var c;return(c=x.innerHeight)!=null?c:E.height()},aggregate:function(d){var g,f,c;g=t;if(d){g=(c=K[B(d).data(q)])!=null?c.waypoints:void 0}if(!g){return[]}f={horizontal:[],vertical:[]};B.each(f,function(l,h){B.each(g[l],function(i,m){return h.push(m)});h.sort(function(i,m){return i.offset-m.offset});f[l]=B.map(h,function(i){return i.element});return f[l]=B.unique(f[l])});return f},above:function(c){if(c==null){c=x}return F._filter(c,"vertical",function(d,f){return f.offset<=d.oldScroll.y})},below:function(c){if(c==null){c=x}return F._filter(c,"vertical",function(d,f){return f.offset>d.oldScroll.y})},left:function(c){if(c==null){c=x}return F._filter(c,"horizontal",function(d,f){return f.offset<=d.oldScroll.x})},right:function(c){if(c==null){c=x}return F._filter(c,"horizontal",function(d,f){return f.offset>d.oldScroll.x})},enable:function(){return F._invoke("enable")},disable:function(){return F._invoke("disable")},destroy:function(){return F._invoke("destroy")},extendFn:function(c,d){return I[c]=d},_invoke:function(c){var d;d=B.extend({},t.vertical,t.horizontal);return B.each(d,function(f,g){g[c]();return true})},_filter:function(d,g,f){var c,h;c=K[B(d).data(q)];if(!c){return[]}h=[];B.each(c.waypoints[g],function(i,l){if(f(c,l)){return h.push(l)}});h.sort(function(i,l){return i.offset-l.offset});return B.map(h,function(i){return i.element})}};B[C]=function(){var c,d;d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[];if(F[d]){return F[d].apply(null,c)}else{return F.aggregate.call(null,d)}};B[C].settings={resizeThrottle:100,scrollThrottle:30};return E.load(function(){return B[C]("refresh")})})}).call(this);(function(aN,av,ax){function aD(c){if(aC=av.documentElement,aS=av.body,bh(),ak=this,c=c||{},ay=c.constants||{},c.easing){for(var d in c.easing){a4[d]=c.easing[d]}}bA=c.edgeStrategy||"set",aj={beforerender:c.beforerender,render:c.render},bD=c.forceHeight!==!1,bD&&(bd=c.scale||1),ah=c.mobileDeceleration||bn,bu=c.smoothScrolling!==!1,af=c.smoothScrollingDuration||ao,ai={targetTop:ak.getScrollTop()},bv=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||aN.opera)})(),bv?(by=av.getElementById("skrollr-body"),by&&bq(),aZ(),ab(aC,[an,a7],[a5])):ab(aC,[an,aR],[a5]),ak.refresh(),bK(aN,"resize orientationchange",function(){var g=aC.clientWidth,f=aC.clientHeight;(f!==ad||g!==a0)&&(ad=f,a0=g,bI=!0)});var b=aX();return function a(){aW(),aQ=b(a)}(),ak}var aC,aS,aJ=aN.skrollr={get:function(){return ak},init:function(a){return ak||new aD(a)},VERSION:"0.6.17"},aG=Object.prototype.hasOwnProperty,aw=aN.Math,aP=aN.getComputedStyle,aM="touchstart",au="touchmove",aB="touchcancel",aE="touchend",aL="skrollable",aO=aL+"-before",ar=aL+"-between",aK=aL+"-after",an="skrollr",a5="no-"+an,aR=an+"-desktop",a7=an+"-mobile",ap="linear",aH=1000,bn=0.004,ao=200,bs="start",bm="end",bp="center",bo="bottom",bk="___skrollable_id",bb=/^(?:input|textarea|button|select)$/i,a3=/^\s+|\s+$/g,am=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,be=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,bc=/^([a-z\-]+)\[(\w+)\]$/,aA=/-([a-z])/g,bj=function(b,a){return a.toUpperCase()},bg=/[\-+]?[\d]*\.?[\d]+/g,bf=/\{\?\}/g,bC=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,br=/[a-z\-]+-gradient/g,aT="",bl="",bh=function(){var b=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(aP){var a=aP(aS,null);for(var c in a){if(aT=c.match(b)||+c==c&&a[c].match(b)){break}}if(!aT){return aT=bl="",ax}aT=aT[0],"-"===aT.slice(0,1)?(bl=aT,aT={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[aT]):bl="-"+aT.toLowerCase()+"-"}},aX=function(){var a=aN.requestAnimationFrame||aN[aT.toLowerCase()+"RequestAnimationFrame"],b=bx();return(bv||!a)&&(a=function(c){var e=bx()-b,d=aw.max(0,1000/60-e);return aN.setTimeout(function(){b=bx(),c()},d)}),a},a9=function(){var a=aN.cancelAnimationFrame||aN[aT.toLowerCase()+"CancelAnimationFrame"];return(bv||!a)&&(a=function(b){return aN.clearTimeout(b)}),a},a4={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return -aw.cos(a*aw.PI)/2+0.5},sqrt:function(a){return aw.sqrt(a)},outCubic:function(a){return aw.pow(a-1,3)+1},bounce:function(b){var a;if(0.5083>=b){a=3}else{if(0.8489>=b){a=9}else{if(0.96208>=b){a=27}else{if(!(0.99981>=b)){return 1}a=91}}}return 1-aw.abs(3*aw.cos(1.028*b*a)/a)}};aD.prototype.refresh=function(L){var D,C,P=!1;for(L===ax?(P=!0,bF=[],a2=0,L=av.getElementsByTagName("*")):L=[].concat(L),D=0,C=L.length;C>D;D++){var I=L[D],G=I,A=[],N=bu,K=bA;if(I.attributes){for(var x=0,B=I.attributes.length;B>x;x++){var F=I.attributes[x];if("data-anchor-target"!==F.name){if("data-smooth-scrolling"!==F.name){if("data-edge-strategy"!==F.name){var M=F.name.match(am);if(null!==M){var t={props:F.value,element:I};A.push(t);var J=M[1];J=J&&ay[J.substr(1)]||0;var q=M[2];/p$/.test(q)?(t.isPercentage=!0,t.offset=((0|q.slice(0,-1))+J)/100):t.offset=(0|q)+J;var g=M[3],O=M[4]||g;g&&g!==bs&&g!==bm?(t.mode="relative",t.anchors=[g,O]):(t.mode="absolute",g===bm?t.isEnd=!0:t.isPercentage||(t.frame=t.offset*bd,delete t.offset))}}else{K=F.value}}else{N="off"!==F.value}}else{if(G=av.querySelector(F.value),null===G){throw'Unable to find anchor target "'+F.value+'"'}}}if(A.length){var j,r,H;!P&&bk in I?(H=I[bk],j=bF[H].styleAttr,r=bF[H].classAttr):(H=I[bk]=a2++,j=I.style.cssText,r=bE(I)),bF[H]={element:I,styleAttr:j,classAttr:r,anchorTarget:G,keyFrames:A,smoothScrolling:N,edgeStrategy:K},ab(I,[aL],[])}}}for(ag(),D=0,C=L.length;C>D;D++){var z=bF[L[D][bk]];z!==ax&&(bi(z),bM(z))}return ak},aD.prototype.relativeToAbsolute=function(h,f,g){var j=aC.clientHeight,c=h.getBoundingClientRect(),d=c.top,b=c.bottom-c.top;return f===bo?d-=j:f===bp&&(d-=j/2),g===bo?d+=b:g===bp&&(d+=b/2),d+=ak.getScrollTop(),0|d+0.5},aD.prototype.animateTo=function(b,a){a=a||{};var d=bx(),c=ak.getScrollTop();return bw={startTop:c,topDiff:b-c,targetTop:b,duration:a.duration||aH,startTime:d,endTime:d+(a.duration||aH),easing:a4[a.easing||ap],done:a.done},bw.topDiff||(bw.done&&bw.done.call(ak,!1),bw=ax),ak},aD.prototype.stopAnimateTo=function(){bw&&bw.done&&bw.done.call(ak,!0),bw=ax},aD.prototype.isAnimatingTo=function(){return !!bw},aD.prototype.setScrollTop=function(a,b){return aU=b===!0,bv?bL=aw.min(aw.max(a,0),aF):aN.scrollTo(0,a),ak},aD.prototype.getScrollTop=function(){return bv?bL:aN.pageYOffset||aC.scrollTop||aS.scrollTop||0},aD.prototype.getMaxScrollTop=function(){return aF},aD.prototype.on=function(b,a){return aj[b]=a,ak},aD.prototype.off=function(a){return delete aj[a],ak},aD.prototype.destroy=function(){var b=a9();b(aQ),aa(),ab(aC,[a5],[an,aR,a7]);for(var a=0,c=bF.length;c>a;a++){aq(bF[a].element)}aC.style.overflow=aS.style.overflow="auto",aC.style.height=aS.style.height="auto",by&&aJ.setStyle(by,"transform","none"),ak=ax,by=ax,aj=ax,bD=ax,aF=0,bd=1,ay=ax,ah=ax,bz="down",a8=-1,a0=0,ad=0,bI=!1,bw=ax,bu=ax,af=ax,ai=ax,aU=ax,a2=0,bA=ax,bv=!1,bL=0,bB=ax};var aZ=function(){var a,k,e,q,o,p,t,m,s,f,r,j;bK(aC,[aM,au,aB,aE].join(" "),function(i){var d=i.changedTouches[0];for(q=i.target;3===q.nodeType;){q=q.parentNode}switch(o=d.clientY,p=d.clientX,f=i.timeStamp,bb.test(q.tagName)||i.preventDefault(),i.type){case aM:a&&a.blur(),ak.stopAnimateTo(),a=q,k=t=o,e=p,s=f;break;case au:m=o-t,j=f-r,ak.setScrollTop(bL-m,!0),t=o,r=f;break;default:case aB:case aE:var l=k-o,u=e-p,h=u*u+l*l;if(49>h){if(!bb.test(a.tagName)){a.focus();var y=av.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,i.view,1,d.screenX,d.screenY,d.clientX,d.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,0,null),a.dispatchEvent(y)}return}a=ax;var n=m/j;n=aw.max(aw.min(n,3),-3);var g=aw.abs(n/ah),v=n*g+0.5*ah*g*g,c=ak.getScrollTop()-v,b=0;c>aF?(b=(aF-c)/v,c=aF):0>c&&(b=-c/v,c=0),g*=1-b,ak.animateTo(0|c+0.5,{easing:"outCubic",duration:g})}}),aN.scrollTo(0,0),aC.style.overflow=aS.style.overflow="hidden"},aI=function(){var k,q,b,d,o,h,g,m,j;for(m=0,j=bF.length;j>m;m++){for(k=bF[m],q=k.element,b=k.anchorTarget,d=k.keyFrames,o=0,h=d.length;h>o;o++){g=d[o];var p=g.offset;g.isPercentage&&(p*=aC.clientHeight,g.frame=p),"relative"===g.mode&&(aq(q),g.frame=ak.relativeToAbsolute(b,g.anchors[0],g.anchors[1])-p,aq(q,!0)),bD&&!g.isEnd&&g.frame>aF&&(aF=g.frame)}}for(aF=aw.max(aF,bJ()),m=0,j=bF.length;j>m;m++){for(k=bF[m],d=k.keyFrames,o=0,h=d.length;h>o;o++){g=d[o],g.isEnd&&(g.frame=aF-g.offset)}k.keyFrames.sort(az)}},a1=function(K,v){for(var B=0,G=bF.length;G>B;B++){var F,N,z=bF[B],L=z.element,J=z.smoothScrolling?K:v,l=z.keyFrames,D=l[0].frame,H=l[l.length-1].frame,h=D>J,d=J>H,M=l[h?0:l.length-1];if(h||d){if(h&&-1===z.edge||d&&1===z.edge){continue}switch(ab(L,[h?aO:aK],[aO,ar,aK]),z.edge=h?-1:1,z.edgeStrategy){case"reset":aq(L);continue;case"ease":J=M.frame;break;default:case"set":var g=M.props;for(F in g){aG.call(g,F)&&(N=aY(g[F].value),aJ.setStyle(L,F,N))}continue}}else{0!==z.edge&&(ab(L,[aL,ar],[aO,aK]),z.edge=0)}for(var j=0,I=l.length-1;I>j;j++){if(J>=l[j].frame&&l[j+1].frame>=J){var q=l[j],i=l[j+1];for(F in q.props){if(aG.call(q.props,F)){var C=(J-q.frame)/(i.frame-q.frame);C=q.props[F].easing(C),N=bH(q.props[F].value,i.props[F].value,C),N=aY(N),aJ.setStyle(L,F,N)}}break}}}},aW=function(){bI&&(bI=!1,ag());var g,d,i=ak.getScrollTop(),h=bx();if(bw){h>=bw.endTime?(i=bw.targetTop,g=bw.done,bw=ax):(d=bw.easing((h-bw.startTime)/bw.duration),i=0|bw.startTop+d*bw.topDiff),ak.setScrollTop(i,!0)}else{if(!aU){var c=ai.targetTop-i;c&&(ai={startTop:a8,topDiff:i-a8,targetTop:i,startTime:ac,endTime:ac+af}),ai.endTime>=h&&(d=a4.sqrt((h-ai.startTime)/af),i=0|ai.startTop+d*ai.topDiff)}}if(bv&&by&&aJ.setStyle(by,"transform","translate(0, "+-bL+"px) "+bB),aU||a8!==i){bz=i>a8?"down":a8>i?"up":bz,aU=!1;var b={curTop:i,lastTop:a8,maxTop:aF,direction:bz},f=aj.beforerender&&aj.beforerender.call(ak,b);f!==!1&&(a1(i,ak.getScrollTop()),a8=i,aj.render&&aj.render.call(ak,b)),g&&g.call(ak,!1)}ac=h},bi=function(h){for(var k=0,b=h.keyFrames.length;b>k;k++){for(var d,c,j,g,f=h.keyFrames[k],m={};null!==(g=be.exec(f.props));){j=g[1],c=g[2],d=j.match(bc),null!==d?(j=d[1],d=d[2]):d=ap,c=c.indexOf("!")?ba(c):[c.slice(1)],m[j]={value:c,easing:a4[d]}}f.props=m}},ba=function(b){var a=[];return bC.lastIndex=0,b=b.replace(bC,function(c){return c.replace(bg,function(d){return 100*(d/255)+"%"})}),bl&&(br.lastIndex=0,b=b.replace(br,function(c){return bl+c})),b=b.replace(bg,function(c){return a.push(+c),"{?}"}),a.unshift(b),a},bM=function(c){var a,b,d={};for(a=0,b=c.keyFrames.length;b>a;a++){a6(c.keyFrames[a],d)}for(d={},a=c.keyFrames.length-1;a>=0;a--){a6(c.keyFrames[a],d)}},a6=function(c,a){var b;for(b in a){aG.call(c.props,b)||(c.props[b]=a[b])}for(b in c.props){a[b]=c.props[b]}},bH=function(f,c,d){var h,g=f.length;if(g!==c.length){throw"Can't interpolate between \""+f[0]+'" and "'+c[0]+'"'}var b=[f[0]];for(h=1;g>h;h++){b[h]=f[h]+(c[h]-f[h])*d}return b},aY=function(b){var a=1;return bf.lastIndex=0,b[0].replace(bf,function(){return b[a++]})},aq=function(f,c){f=[].concat(f);for(var d,h,g=0,b=f.length;b>g;g++){h=f[g],d=bF[h[bk]],d&&(c?(h.style.cssText=d.dirtyStyleAttr,ab(h,d.dirtyClassAttr)):(d.dirtyStyleAttr=h.style.cssText,d.dirtyClassAttr=bE(h),h.style.cssText=d.styleAttr,ab(h,d.classAttr)))}},bq=function(){bB="translateZ(0)",aJ.setStyle(by,"transform",bB);var c=aP(by),a=c.getPropertyValue("transform"),b=c.getPropertyValue(bl+"transform"),d=a&&"none"!==a||b&&"none"!==b;d||(bB="")};aJ.setStyle=function(c,a,b){var f=c.style;if(a=a.replace(aA,bj).replace("-",""),"zIndex"===a){f[a]=isNaN(b)?b:""+(0|b)}else{if("float"===a){f.styleFloat=f.cssFloat=b}else{try{aT&&(f[aT+a.slice(0,1).toUpperCase()+a.slice(1)]=b),f[a]=b}catch(d){}}}};var ak,bF,by,aj,bD,ay,ah,bw,bu,af,ai,aU,bA,bB,aQ,bK=aJ.addEvent=function(e,f,h){var g=function(a){return a=a||aN.event,a.target||(a.target=a.srcElement),a.preventDefault||(a.preventDefault=function(){a.returnValue=!1}),h.call(this,a)};f=f.split(" ");for(var c,d=0,b=f.length;b>d;d++){c=f[d],e.addEventListener?e.addEventListener(c,h,!1):e.attachEvent("on"+c,g),bG.push({element:e,name:c,listener:h})}},ae=aJ.removeEvent=function(c,a,b){a=a.split(" ");for(var f=0,d=a.length;d>f;f++){c.removeEventListener?c.removeEventListener(a[f],b,!1):c.detachEvent("on"+a[f],b)}},aa=function(){for(var c,a=0,b=bG.length;b>a;a++){c=bG[a],ae(c.element,c.name,c.listener)}bG=[]},ag=function(){var a=ak.getScrollTop();aF=0,bD&&!bv&&(aS.style.height="auto"),aI(),bD&&!bv&&(aS.style.height=aF+aC.clientHeight+"px"),bv?ak.setScrollTop(aw.min(ak.getScrollTop(),aF)):ak.setScrollTop(a,!0),aU=!0},bJ=function(){var b=by&&by.offsetHeight||0,a=aw.max(b,aS.scrollHeight,aS.offsetHeight,aC.scrollHeight,aC.offsetHeight,aC.clientHeight);return a-aC.clientHeight},bE=function(a){var b="className";return aN.SVGElement&&a instanceof aN.SVGElement&&(a=a[b],b="baseVal"),a[b]},ab=function(m,d,b){var k="className";if(aN.SVGElement&&m instanceof aN.SVGElement&&(m=m[k],k="baseVal"),b===ax){return m[k]=d,ax}for(var g=m[k],e=0,p=b.length;p>e;e++){g=al(g).replace(al(b[e])," ")}g=aV(g);for(var j=0,h=d.length;h>j;j++){-1===al(g).indexOf(al(d[j]))&&(g+=" "+d[j])}m[k]=aV(g)},aV=function(a){return a.replace(a3,"")},al=function(a){return" "+a+" "},bx=Date.now||function(){return +new Date},az=function(b,a){return b.frame-a.frame},aF=0,bd=1,bz="down",a8=-1,ac=bx(),a0=0,ad=0,bI=!1,a2=0,bv=!1,bL=0,bG=[]})(window,document);
/*!
* Fotorama 4.4.8
*/
;!function(bO,bN,bM,bL,bK){function bJ(e){var d="bez_"+bL.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof bL.easing[d]){var f=function(j,i){var p=[null,null],o=[null,null],n=[null,null],m=function(b,a){return n[a]=3*j[a],o[a]=3*(i[a]-j[a])-n[a],p[a]=1-n[a]-o[a],b*(n[a]+b*(o[a]+b*p[a]))},l=function(b){return n[0]+b*(2*o[0]+3*p[0]*b)},k=function(h){for(var g,r=h,q=0;++q<14&&(g=m(r,0)-h,!(Math.abs(g)<0.001));){r-=g/l(r)}return r};return function(b){return m(k(b),1)}};bL.easing[d]=function(a,j,i,h,c){return h*f([e[0],e[1]],[e[2],e[3]])(j/c)+i}}return d}function bH(){}function bF(e,d,f){return Math.max(isNaN(d)?-1/0:d,Math.min(isNaN(f)?1/0:f,e))}function bE(b){return b.match(/ma/)&&b.match(/-?\d+(?!d)/g)[b.match(/3d/)?12:4]}function bD(b){return aP?+bE(b.css("transform")):+b.css("left").replace("px","")}function bC(e,d){var f={};return aP?f.transform="translate3d("+(e+(d?0.001:0))+"px,0,0)":f.left=e,f}function bB(b){return{"transition-duration":b+"ms"}}function bA(d,c){return +String(d).replace(c||"px","")||bK}function bz(b){return/%$/.test(b)&&bA(b,"%")}function by(b){return(!!bA(b)||!!bA(b,"%"))&&b}function bx(f,e,h,g){return(f-(g||0))*(e+(h||0))}function bw(f,e,h,g){return -Math.round(f/(e+(h||0))-(g||0))}function bu(f){var e=f.data();if(!e.tEnd){var h=f[0],g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};h.addEventListener(g[at.prefixed("transition")],function(b){e.tProp&&b.propertyName.match(e.tProp)&&e.onEndFn()},!1),e.tEnd=!0}}function bt(h,g,l,k){var j,i=h.data();i&&(i.onEndFn=function(){j||(j=!0,clearTimeout(i.tT),l())},i.tProp=g,clearTimeout(i.tT),i.tT=setTimeout(function(){i.onEndFn()},1.5*k),bu(h))}function bs(g,f,j){if(g.length){var i=g.data();aP?(g.css(bB(0)),i.onEndFn=bH,clearTimeout(i.tT)):g.stop();var h=br(f,function(){return bD(g)});return g.css(bC(h,j)),h}}function br(){for(var e,d=0,f=arguments.length;f>d&&(e=d?arguments[d]():arguments[d],"number"!=typeof e);d++){}return e}function bq(d,c){return Math.round(d+(c-d)/1.5)}function bp(){return bp.p=bp.p||("https://"===bM.protocol?"https://":"http://"),bp.p}function bo(b){var d=bN.createElement("a");return d.href=b,d}function bn(g,f){if("string"!=typeof g){return g}g=bo(g);var j,i;if(g.host.match(/youtube\.com/)&&g.search){if(j=g.search.split("v=")[1]){var h=j.indexOf("&");-1!==h&&(j=j.substring(0,h)),i="youtube"}}else{g.host.match(/youtube\.com|youtu\.be/)?(j=g.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):g.host.match(/vimeo\.com/)&&(i="vimeo",j=g.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""))}return j&&i||!f||(j=g.href,i="custom"),j?{id:j,type:i,s:g.search.replace(/^\?/,"")}:!1}function bm(h,d,l){var k,j,i=h.video;return"youtube"===i.type?(j=bp()+"img.youtube.com/vi/"+i.id+"/default.jpg",k=j.replace(/\/default.jpg$/,"/hqdefault.jpg"),h.thumbsReady=!0):"vimeo"===i.type?bL.ajax({url:bp()+"vimeo.com/api/v2/video/"+i.id+".json",dataType:"jsonp",success:function(a){h.thumbsReady=!0,co(d,{img:a[0].thumbnail_large,thumb:a[0].thumbnail_small},h.i,l)}}):h.thumbsReady=!0,{img:k,thumb:j}}function co(j,d,p,o){for(var n=0,m=j.length;m>n;n++){var l=j[n];if(l.i===p&&l.thumbsReady){var k={videoReady:!0};k[am]=k[cF]=k[ad]=!1,o.splice(n,1,bL.extend({},l,k,d));break}}}function cn(f){function d(s,r,q){var p=s.children("img").eq(0),o=s.attr("href"),n=s.attr("src"),m=p.attr("src"),l=r.video,c=q?bn(o,l===!0):!1;c?o=!1:c=l,h(s,p,bL.extend(r,{video:c,img:r.img||o||n||m,thumb:r.thumb||m||n||o}))}function h(j,i,n){var m=n.thumb&&n.img!==n.thumb,l=bA(n.width||j.attr("width")),k=bA(n.height||j.attr("height"));bL.extend(n,{width:l,height:k,thumbratio:b4(n.thumbratio||bA(n.thumbwidth||i&&i.attr("width")||m||l)/bA(n.thumbheight||i&&i.attr("height")||m||k))})}var g=[];return f.children().each(function(){var b=bL(this),c=b5(bL.extend(b.data(),{id:b.attr("id")}));if(b.is("a, img")){d(b,c,!0)}else{if(b.is(":empty")){return}h(b,null,bL.extend(c,{html:this,_html:b.html()}))}g.push(c)}),g}function cm(b){return 0===b.offsetWidth&&0===b.offsetHeight}function cl(b){return !bL.contains(bN.documentElement,b)}function ck(e,d,f){e()?d():setTimeout(function(){ck(e,d)},f||100)}function cj(b){bM.replace(bM.protocol+"//"+bM.host+bM.pathname.replace(/^\/?/,"/")+bM.search+"#"+b)}function ci(x,w,v){var u=x.data(),t=u.measures;if(t&&(!u.l||u.l.W!==t.width||u.l.H!==t.height||u.l.r!==t.ratio||u.l.w!==w.w||u.l.h!==w.h||u.l.m!==v)){var s=t.width,r=t.height,q=w.w/w.h,p=t.ratio>=q,o="scaledown"===v,n="contain"===v,h="cover"===v;p&&(o||n)||!p&&h?(s=bF(w.w,0,o?s:1/0),r=s/t.ratio):(p&&h||!p&&(o||n))&&(r=bF(w.h,0,o?r:1/0),s=r*t.ratio),x.css({width:Math.ceil(s),height:Math.ceil(r),marginLeft:Math.floor(-s/2),marginTop:Math.floor(-r/2)}),u.l={W:t.width,H:t.height,r:t.ratio,w:w.w,h:w.h,m:v}}return !0}function cg(e,d){var f=e[0];f.styleSheet?f.styleSheet.cssText=d:e.html(d)}function ce(e,d,f){return d===f?!1:d>=e?"left":e>=f?"right":"left right"}function cd(j,i,p,o){if(!p){return !1}if(!isNaN(j)){return j-(o?0:1)}for(var n,m=0,l=i.length;l>m;m++){var k=i[m];if(k.id===j){n=m;break}}return n}function ca(e,d,f){f=f||{},e.each(function(){var b,g=bL(this),c=g.data();c.clickOn||(c.clickOn=!0,bL.extend(bX(g,{onStart:function(a){b=a,(f.onStart||bH).call(this,a)},onMove:f.onMove||bH,onTouchEnd:f.onTouchEnd||bH,onEnd:function(a){a.moved||f.tail.checked||d.call(this,b)}}),f.tail))})}function b9(d,c){return'<div class="'+d+'">'+(c||"")+"</div>"}function b8(f){for(var e=f.length;e;){var h=Math.floor(Math.random()*e--),g=f[e];f[e]=f[h],f[h]=g}return f}function b7(b){return"[object Array]"==Object.prototype.toString.call(b)&&bL.map(b,function(c){return bL.extend({},c)})}function b6(d,c){af.scrollLeft(d).scrollTop(c)}function b5(d){if(d){var c={};return bL.each(d,function(b,e){c[b.toLowerCase()]=e}),c}}function b4(d){if(d){var c=+d;return isNaN(c)?(c=d.split("/"),+c[0]/+c[1]||bK):c}}function b3(d,c){d.preventDefault(),c&&d.stopPropagation()}function b1(b){return b?">":"<"}function b0(g,d){var j=Math.round(d.pos),i=d.onEnd||bH;"undefined"!=typeof d.overPos&&d.overPos!==d.pos&&(j=d.overPos,i=function(){b0(g,bL.extend({},d,{overPos:d.pos,time:Math.max(bi,d.time/2)}))});var h=bL.extend(bC(j,d._001),d.width&&{width:d.width});aP?(g.css(bL.extend(bB(d.time),h)),d.time>10?bt(g,"transform",i,d.time):i()):g.stop().animate(h,d.time,cu,i)}function bZ(x,w,v,u,t,s){var r="undefined"!=typeof s;if(r||(t.push(arguments),Array.prototype.push.call(arguments,t.length),!(t.length>1))){x=x||bL(x),w=w||bL(w);var q=x[0],p=w[0],o="crossfade"===u.method,g=function(){if(!g.done){g.done=!0;var b=(r||t.shift())&&t.shift();b&&bZ.apply(this,b),(u.onEnd||bH)(!!b)}},d=u.time/(s||1);v.not(x.addClass(cC).removeClass(cK)).not(w.addClass(cK).removeClass(cC)).removeClass(cC+" "+cK),x.stop(),w.stop(),o&&p&&x.fadeTo(0,0),x.fadeTo(o?d:1,1,o&&g),w.fadeTo(d,0,g),q&&o||p||g()}}function bY(d){var c=(d.touches||[])[0]||d;d._x=c.pageX,d._y=c.clientY}function bX(D,C){function B(c){return u=bL(c.target),E.checked=b=a=!1,w||E.flow||c.touches&&c.touches.length>1||c.which>1||aN&&aN.type!==c.type&&ax||(b=C.select&&u.is(C.select,F))?b:(d="touchstart"===c.type,a=u.is("a, a *",F),bY(c),v=aN=c,aF=c.type.replace(/down|start/,"move").replace(/Down/,"Move"),g=E.control,(C.onStart||bH).call(F,c,{control:g,$target:u}),w=E.flow=!0,(!d||E.go)&&b3(c),void 0)}function A(i){if(i.touches&&i.touches.length>1||cB&&!i.isPrimary||aF!==i.type||!w){return w&&z(),(C.onTouchEnd||bH)(),void 0}bY(i);var e=Math.abs(i._x-v._x),m=Math.abs(i._y-v._y),l=e-m,k=(E.go||E.x||l>=0)&&!E.noSwipe,j=0>l;d&&!E.checked?(w=k)&&b3(i):(b3(i),(C.onMove||bH).call(F,i,{touch:d})),E.checked=E.checked||k||j}function z(e){(C.onTouchEnd||bH)();var c=w;E.control=w=!1,c&&(E.flow=!1),!c||a&&!E.checked||(e&&b3(e),ax=!0,clearTimeout(ao),ao=setTimeout(function(){ax=!1},1000),(C.onEnd||bH).call(F,{moved:E.checked,$target:u,control:g,touch:d,startEvent:v,aborted:!e||"MSPointerCancel"===e.type}))}function y(){E.flow||setTimeout(function(){E.flow=!0},10)}function x(){E.flow&&setTimeout(function(){E.flow=!1},bP)}var w,v,u,g,d,b,a,F=D[0],E={};return cB?(F[cJ]("MSPointerDown",B,!1),bN[cJ]("MSPointerMove",A,!1),bN[cJ]("MSPointerCancel",z,!1),bN[cJ]("MSPointerUp",z,!1)):(F[cJ]&&(F[cJ]("touchstart",B,!1),F[cJ]("touchmove",A,!1),F[cJ]("touchend",z,!1),bN[cJ]("touchstart",y,!1),bN[cJ]("touchend",x,!1),bN[cJ]("touchcancel",x,!1),bO[cJ]("scroll",x,!1)),D.on("mousedown",B),cH.on("mousemove",A).on("mouseup",z)),D.on("click","a",function(c){E.checked&&b3(c)}),E}function bW(T,S){function R(a){N=M=a._x,G=bL.now(),I=[[G,N]],L=K=D.noMove?0:bs(T,(S.getPos||bH)(),S._001),(S.onStart||bH).call(H,a)}function Q(e,c){v=F.min,t=F.max,k=F.snap,h=e.altKey,d=!1,g=c.control,g||R(e)}function P(b,a){g&&(g=!1,R(b)),D.noSwipe||(M=b._x,I.push([bL.now(),M]),K=L-(N-M),J=ce(K,v,t),v>=K?K=bq(K,v):K>=t&&(K=bq(K,t)),D.noMove||(T.css(bC(K,S._001)),d||(d=!0,a.touch||cB||T.addClass(bv)),(S.onMove||bH).call(H,b,{pos:K,edge:J})))}function O(ab){if(!g){ab.touch||cB||T.removeClass(bv),E=(new Date).getTime();for(var Z,Y,X,W,V,U,A,u,p,a=E-bP,y=null,x=bi,w=S.friction,s=I.length-1;s>=0;s--){if(Z=I[s][0],Y=Math.abs(Z-a),null===y||X>Y){y=Z,W=I[s][1]}else{if(y===a||Y>X){break}}X=Y}A=bF(K,v,t);var r=W-M,n=r>=0,m=E-y,l=m>bP,b=!l&&K!==L&&A===K;k&&(A=bF(Math[b?n?"floor":"ceil":"round"](K/k)*k,v,t),v=t=A),b&&(k||A===K)&&(p=-(r/m),x*=bF(Math.abs(p),S.timeLow,S.timeHigh),V=Math.round(K+p*x/w),k||(A=V),(!n&&V>t||n&&v>V)&&(U=n?v:t,u=V-U,k||(A=U),u=bF(A+0.03*u,U-50,U+50),x=Math.abs((K-u)/(p/w)))),x*=h?10:1,(S.onEnd||bH).call(H,bL.extend(ab,{pos:K,newPos:A,overPos:u,time:x,moved:l?k:Math.abs(K-L)>(k?0:3)}))}}var N,M,L,K,J,I,G,E,v,t,k,h,g,d,H=T[0],F=T.data(),D={};return D=bL.extend(bX(S.$wrap,{onStart:Q,onMove:P,onTouchEnd:S.onTouchEnd,onEnd:O,select:S.select,control:S.control}),D)}function bV(g,d){var n,m,l,k=g[0],j={prevent:{}};return k[cJ]&&k[cJ](cq,function(e){var p=e.wheelDeltaY||-1*e.deltaY||0,i=e.wheelDeltaX||-1*e.deltaX||0,f=Math.abs(i)>Math.abs(p),c=b1(0>i),b=m===c,r=bL.now(),q=bP>r-l;m=c,l=r,f&&j.ok&&(!j.prevent[c]||n)&&(b3(e,!0),n&&b&&q||(d.shift&&(n=!0,clearTimeout(j.t),j.t=setTimeout(function(){n=!1},a9)),(d.onEnd||bH)(e,d.shift?c:i)))},!1),j}function bU(){bL.each(bL.Fotorama.instances,function(d,c){c.index=d})}function cA(b){bL.Fotorama.instances.push(b),bU()}function bQ(b){bL.Fotorama.instances.splice(b.index,1),bU()}var cz="fotorama",ch="fullscreen",bI=cz+"__wrap",bh=bI+"--css2",a8=bI+"--css3",a1=bI+"--video",aS=bI+"--fade",aK=bI+"--slide",aC=bI+"--no-controls",au=bI+"--no-shadows",al=bI+"--pan-y",aa=bI+"--rtl",cE=cz+"__stage",ct=cE+"__frame",bT=ct+"--video",bl=cE+"__shaft",be=cE+"--only-active",a5=cz+"__grab",aW=cz+"__pointer",aO=cz+"__arr",aG=aO+"--disabled",ay=aO+"--prev",ap=aO+"--next",ag=cz+"__nav",cI=ag+"-wrap",cx=ag+"__shaft",aZ=ag+"--dots",aQ=ag+"--thumbs",aI=ag+"__frame",aA=aI+"--dot",ar=aI+"--thumb",aj=cz+"__fade",cK=aj+"-front",cC=aj+"-rear",cr=cz+"__shadow",bR=cr+"s",bj=bR+"--left",ba=bR+"--right",a3=cz+"__active",aU=cz+"__select",aM=cz+"--hidden",aE=cz+"--fullscreen",aw=cz+"__fullscreen-icon",an=cz+"__error",ae=cz+"__loading",cG=cz+"__loaded",cv=cG+"--full",b2=cG+"--img",bv=cz+"__grabbing",bf=cz+"__img",a6=bf+"--full",aX=cz+"__dot",cp=cz+"__thumb",ah=cp+"-border",cy=cz+"__html",cf=cz+"__video",bG=cf+"-play",bg=cf+"-close",a7=cz+"__caption",a0=cz+"__caption__wrap",aR=cz+"__spinner",aJ=bL&&bL.fn.jquery.split(".");if(!aJ||aJ[0]<1||1==aJ[0]&&aJ[1]<8){throw"Fotorama requires jQuery 1.8 or later and will not run without it."}var aB={},at=function(bc,bb,ac){function ab(b){K.cssText=b}function Z(d,c){return typeof d===c}function Y(d,c){return !!~(""+d).indexOf(c)}function X(f,c){for(var h in f){var g=f[h];if(!Y(g,"-")&&K[g]!==ac){return"pfx"==c?g:!0}}return !1}function W(e,c,j){for(var i in e){var h=c[e[i]];if(h!==ac){return j===!1?e[i]:Z(h,"function")?h.bind(j||c):h}}return !1}function V(g,e,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+H.join(i+" ")+i).split(" ");return Z(e,"string")||Z(e,"undefined")?X(h,e):(h=(g+" "+G.join(i+" ")+i).split(" "),W(h,e,j))}var U,T,S,R="2.6.2",Q={},P=bb.documentElement,O="modernizr",M=bb.createElement(O),K=M.style,J=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),I="Webkit Moz O ms",H=I.split(" "),G=I.toLowerCase().split(" "),F={},E=[],D=E.slice,C=function(v,u,t,s){var r,q,p,o,n=bb.createElement("div"),m=bb.body,b=m||bb.createElement("body");if(parseInt(t,10)){for(;t--;){p=bb.createElement("div"),p.id=s?s[t]:O+(t+1),n.appendChild(p)}}return r=["&#173;",'<style id="s',O,'">',v,"</style>"].join(""),n.id=O,(m?n:b).innerHTML+=r,b.appendChild(n),m||(b.style.background="",b.style.overflow="hidden",o=P.style.overflow,P.style.overflow="hidden",P.appendChild(b)),q=u(n,v),m?n.parentNode.removeChild(n):(b.parentNode.removeChild(b),P.style.overflow=o),!!q},N={}.hasOwnProperty;S=Z(N,"undefined")||Z(N.call,"undefined")?function(d,c){return c in d&&Z(d.constructor.prototype[c],"undefined")}:function(d,c){return N.call(d,c)},Function.prototype.bind||(Function.prototype.bind=function(f){var e=this;if("function"!=typeof e){throw new TypeError}var h=D.call(arguments,1),g=function(){if(this instanceof g){var c=function(){};c.prototype=e.prototype;var b=new c,a=e.apply(b,h.concat(D.call(arguments)));return Object(a)===a?a:b}return e.apply(f,h.concat(D.call(arguments)))};return g}),F.csstransforms3d=function(){var b=!!V("perspective");return b};for(var L in F){S(F,L)&&(T=L.toLowerCase(),Q[T]=F[L](),E.push((Q[T]?"":"no-")+T))}return Q.addTest=function(e,c){if("object"==typeof e){for(var f in e){S(e,f)&&Q.addTest(f,e[f])}}else{if(e=e.toLowerCase(),Q[e]!==ac){return Q}c="function"==typeof c?c():c,"undefined"!=typeof enableClasses&&enableClasses&&(P.className+=" "+(c?"":"no-")+e),Q[e]=c}return Q},ab(""),M=U=null,Q._version=R,Q._prefixes=J,Q._domPrefixes=G,Q._cssomPrefixes=H,Q.testProp=function(b){return X([b])},Q.testAllProps=V,Q.testStyles=C,Q.prefixed=function(e,d,f){return d?V(e,d,f):V(e,"pfx")},Q}(bO,bN),ak={ok:!1,is:function(){return !1},request:function(){},cancel:function(){},event:"",prefix:""},cL="webkit moz o ms khtml".split(" ");if("undefined"!=typeof bN.cancelFullScreen){ak.ok=!0}else{for(var cD=0,cs=cL.length;cs>cD;cD++){if(ak.prefix=cL[cD],"undefined"!=typeof bN[ak.prefix+"CancelFullScreen"]){ak.ok=!0;break}}}ak.ok&&(ak.event=ak.prefix+"fullscreenchange",ak.is=function(){switch(this.prefix){case"":return bN.fullScreen;case"webkit":return bN.webkitIsFullScreen;default:return bN[this.prefix+"FullScreen"]}},ak.request=function(b){return""===this.prefix?b.requestFullScreen():b[this.prefix+"RequestFullScreen"]()},ak.cancel=function(){return""===this.prefix?bN.cancelFullScreen():bN[this.prefix+"CancelFullScreen"]()});var bS,bk={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},bd={top:"auto",left:"auto",className:""};!function(d,c){bS=c()}(this,function(){function F(f,i){var h,g=bN.createElement(f||"div");for(h in i){g[h]=i[h]}return g}function E(f){for(var d=1,g=arguments.length;g>d;d++){f.appendChild(arguments[d])}return f}function D(r,q,p,o){var n=["opacity",q,~~(100*r),p,o].join("-"),m=0.01+100*(p/o),l=Math.max(1-(1-r)/q*(100-m),r),k=v.substring(0,v.indexOf("Animation")).toLowerCase(),j=k&&"-"+k+"-"||"";return t[n]||(s.insertRule("@"+j+"keyframes "+n+"{0%{opacity:"+l+"}"+m+"%{opacity:"+r+"}"+(m+0.01)+"%{opacity:1}"+(m+q)%100+"%{opacity:"+r+"}100%{opacity:"+l+"}}",s.cssRules.length),t[n]=1),n}function C(h,g){var k,j,i=h.style;for(g=g.charAt(0).toUpperCase()+g.slice(1),j=0;j<u.length;j++){if(k=u[j]+g,i[k]!==bK){return k}}return i[g]!==bK?g:void 0}function B(f,d){for(var g in d){f.style[C(f,g)||g]=d[g]}return f}function A(g){for(var f=1;f<arguments.length;f++){var i=arguments[f];for(var h in i){g[h]===bK&&(g[h]=i[h])}}return g}function z(d){for(var c={x:d.offsetLeft,y:d.offsetTop};d=d.offsetParent;){c.x+=d.offsetLeft,c.y+=d.offsetTop}return c}function y(d,c){return"string"==typeof d?d:d[c%d.length]}function x(c){return"undefined"==typeof this?new x(c):(this.opts=A(c||{},x.defaults,e),void 0)}function w(){function a(d,f){return F("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',f)}s.addRule(".spin-vml","behavior:url(#default#VML)"),x.prototype.lines=function(G,r){function q(){return B(a("group",{coordsize:j+" "+j,coordorigin:-n+" "+-n}),{width:j,height:j})}function p(d,k,i){E(c,E(B(q(),{rotation:360/r.lines*d+"deg",left:~~k}),E(B(a("roundrect",{arcsize:r.corners}),{width:n,height:r.width,left:r.radius,top:-r.width>>1,filter:i}),a("fill",{color:y(r.color,d),opacity:r.opacity}),a("stroke",{opacity:0}))))}var o,n=r.length+r.width,j=2*n,g=2*-(r.width+r.length)+"px",c=B(q(),{position:"absolute",top:g,left:g});if(r.shadow){for(o=1;o<=r.lines;o++){p(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(o=1;o<=r.lines;o++){p(o)}return E(G,c)},x.prototype.opacity=function(g,f,j,i){var h=g.firstChild;i=i.shadow&&i.lines||0,h&&f+i<h.childNodes.length&&(h=h.childNodes[f+i],h=h&&h.firstChild,h=h&&h.firstChild,h&&(h.opacity=j))}}var v,u=["webkit","Moz","ms","O"],t={},s=function(){var a=F("style",{type:"text/css"});return E(bN.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),e={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};x.defaults={},A(x.prototype,{spin:function(P){this.stop();var O,N,M=this,L=M.opts,K=M.el=B(F(0,{className:L.className}),{position:L.position,width:0,zIndex:L.zIndex}),J=L.radius+L.length+L.width;if(P&&(P.insertBefore(K,P.firstChild||null),N=z(P),O=z(K),B(K,{left:("auto"==L.left?N.x-O.x+(P.offsetWidth>>1):parseInt(L.left,10)+J)+"px",top:("auto"==L.top?N.y-O.y+(P.offsetHeight>>1):parseInt(L.top,10)+J)+"px"})),K.setAttribute("role","progressbar"),M.lines(K,M.opts),!v){var I,H=0,G=(L.lines-1)*(1-L.direction)/2,m=L.fps,i=m/L.speed,g=(1-L.opacity)/(i*L.trail/100),a=i/L.lines;!function Q(){H++;for(var c=0;c<L.lines;c++){I=Math.max(1-(H+(L.lines-c)*a)%i*g,L.opacity),M.opacity(K,c*L.direction+G,I,L)}M.timeout=M.el&&setTimeout(Q,~~(1000/m))}()}return M},stop:function(){var c=this.el;return c&&(clearTimeout(this.timeout),c.parentNode&&c.parentNode.removeChild(c),this.el=bK),this},lines:function(a,l){function j(f,h){return B(F(),{position:"absolute",width:l.length+l.width+"px",height:l.width+"px",background:f,boxShadow:h,transformOrigin:"left",transform:"rotate("+~~(360/l.lines*d+l.rotate)+"deg) translate("+l.radius+"px,0)",borderRadius:(l.corners*l.width>>1)+"px"})}for(var g,d=0,c=(l.lines-1)*(1-l.direction)/2;d<l.lines;d++){g=B(F(),{position:"absolute",top:1+~(l.width/2)+"px",transform:l.hwaccel?"translate3d(0,0,0)":"",opacity:l.opacity,animation:v&&D(l.opacity,l.trail,c+d*l.direction,l.lines)+" "+1/l.speed+"s linear infinite"}),l.shadow&&E(g,B(j("#000","0 0 4px #000"),{top:"2px"})),E(a,E(g,j(y(l.color,d),"0 0 1px rgba(0,0,0,.1)")))}return a},opacity:function(f,d,g){d<f.childNodes.length&&(f.childNodes[d].style.opacity=g)}});var b=B(F("group"),{behavior:"url(#default#VML)"});return !C(b,"transform")&&b.adj?w():v=C(b,"animation"),x});var a4,aV,aN,aF,ax,ao,af=bL(bO),cH=bL(bN),cw="quirks"===bM.hash.replace("#",""),aY=at.csstransforms3d,aP=aY&&!cw,aH=aY||"CSS1Compat"===bN.compatMode,az=ak.ok,aq=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),ai=!aP||aq,cJ="addEventListener",cB=bO.navigator.msPointerEnabled,cq="onwheel" in bN.createElement("div")?"wheel":bN.onmousewheel!==bK?"mousewheel":"DOMMouseScroll",bP=250,bi=300,a9=1400,a2=5000,aT=2,aL=64,aD=500,av=333,am="$stageFrame",ad="$navDotFrame",cF="$navThumbFrame",cu=bJ([0.1,0,0.25,1]);jQuery.Fotorama=function(c6,c2){function c1(){bL.each(o,function(f,e){if(!e.i){e.i=F++;var i=bn(e.video,!0);if(i){var g={};e.video=i,e.img||e.thumb?e.thumbsReady=!0:g=bm(e,o,dV),co(o,{img:g.img,thumb:g.thumb},e.i,dV)}}})}function cY(f){var e="keydown."+cz,i="keydown."+cz+dB,g="resize."+cz+dB;f?(cH.on(i,function(j){cZ&&27===j.keyCode?(b3(j),de(cZ,!0,!0)):(dV.fullScreen||c2.keyboard&&!dV.index)&&(27===j.keyCode?(b3(j),dV.cancelFullScreen()):39===j.keyCode||40===j.keyCode&&dV.fullScreen?(b3(j),dV.show({index:">",slow:j.altKey,user:!0})):(37===j.keyCode||38===j.keyCode&&dV.fullScreen)&&(b3(j),dV.show({index:"<",slow:j.altKey,user:!0})))}),dV.index||cH.off(e).on(e,"textarea, input, select",function(j){!aV.hasClass(ch)&&j.stopPropagation()}),af.on(g,dV.resize)):(cH.off(i),af.off(g))}function cW(a){a!==cW.f&&(a?(c6.html("").addClass(cz+" "+c8).append(h).before(dW).before(dq),cA(dV)):(h.detach(),dW.detach(),dq.detach(),c6.html(c.urtext).removeClass(c8),bQ(dV)),cY(a),cW.f=a)}function cV(){o=dV.data=o||b7(c2.data)||cn(c6),d4=dV.size=o.length,!L.ok&&c2.shuffle&&b8(o),c1(),c3=dv(c3),d4&&cW(!0)}function cO(){var e=2>d4||cZ;ec.noMove=e||cT,ec.noSwipe=e||!c2.swipe,dd.toggleClass(a5,!ec.noMove&&!ec.noSwipe),cB&&h.toggleClass(al,!ec.noSwipe)}function cM(e){e===!0&&(e=""),c2.autoplay=Math.max(+e||a2,1.5*d5)}function cc(e){return e?"add":"remove"}function cb(){dV.options=c2=b5(c2),cT="crossfade"===c2.transition||"dissolve"===c2.transition,ed=c2.loop&&(d4>2||cT),d5=+c2.transitionduration||bi,dn="rtl"===c2.direction;var e={add:[],remove:[]};d4>1?(dU=c2.nav,d1="top"===c2.navposition,e.remove.push(aU),dY.toggle(c2.arrows)):(dU=!1,dY.hide()),dk(),dm=new bS(bL.extend(bk,c2.spinner,bd,{direction:dn?-1:1})),E(),dC(),c2.autoplay&&cM(c2.autoplay),M=bA(c2.thumbwidth)||aL,p=bA(c2.thumbheight)||aL,dT.ok=dZ.ok=c2.trackpad&&!ai,cO(),c9(c2,!0),dA="thumbs"===dU,dA?(N(d4,"navThumb"),dL=n,b=cF,cg(dW,bL.Fotorama.jst.style({w:M,h:p,b:c2.thumbborderwidth,m:c2.thumbmargin,s:dB,q:!aH})),dg.addClass(aQ).removeClass(aZ)):"dots"===dU?(N(d4,"navDot"),dL=J,b=ad,dg.addClass(aZ).removeClass(aQ)):(dU=!1,dg.removeClass(aQ+" "+aZ)),dU&&(d1?dG.insertBefore(dE):dG.insertAfter(dE),dy.nav=!1,dy(dL,cQ,"nav")),dJ=c2.allowfullscreen,dJ?(cX.appendTo(dE),dj=az&&"native"===dJ):(cX.detach(),dj=!1),e[cc(cT)].push(aS),e[cc(!cT)].push(aK),e[cc(dn)].push(aa),dM=c2.shadows&&!ai,e[cc(!dM)].push(au),h.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),S=bL.extend({},c2)}function bb(e){return 0>e?(d4+e%d4)%d4:e>=d4?e%d4:e}function dv(e){return bF(e,0,d4-1)}function dc(e){return ed?bb(e):dv(e)}function db(e){return e>0||ed?e-1:!1}function da(e){return d4-1>e||ed?e+1:!1}function q(){d3.min=ed?-1/0:-bx(d4-1,A.w,c2.margin,ea),d3.max=ed?1/0:-bx(0,A.w,c2.margin,ea),d3.snap=A.w+c2.margin}function d8(){dK.min=Math.min(0,A.W-cQ.width()),dK.max=0,cQ.toggleClass(a5,!(dz.noMove=dK.min===dK.max))}function dO(g,f,j){if("number"==typeof g){g=new Array(g);var i=!0}return bL.each(g,function(e,w){if(i&&(w=e),"number"==typeof w){var v=o[bb(w)];if(v){var s="$"+f+"Frame",r=v[s];j.call(this,e,w,v,r,s,r&&r.data())}}})}function dt(f,e,i,g){(!c0||"*"===c0&&g===B)&&(f=by(c2.width)||by(f)||aD,e=by(c2.height)||by(e)||av,dV.resize({width:f,ratio:c2.ratio||i||f/e},0,g===B?!0:"*"))}function ac(i,e,s,r,j){dO(i,e,function(en,em,el,ek,ej,ei){function eh(w){var v=bb(em);ab(w,{index:v,src:x,frame:o[v]})}function eg(){W.remove(),bL.Fotorama.cache[x]="error",el.html&&"stage"===e||!g||g===x?(!x||el.html||bc?"stage"===e&&(ek.trigger("f:load").removeClass(ae+" "+an).addClass(cG),eh("load"),dt()):(ek.trigger("f:error").removeClass(ae).addClass(an),eh("error")),ei.state="error",!(d4>1&&o[em]===el)||el.html||el.deleted||el.video||bc||(el.deleted=!0,dV.splice(em,1))):(el[C]=x=g,ac([em],e,s,r,!0))}function ef(){bL.Fotorama.measures[x]=V.measures=bL.Fotorama.measures[x]||{width:Z.width,height:Z.height,ratio:Z.width/Z.height},dt(V.measures.width,V.measures.height,V.measures.ratio,em),W.off("load error").addClass(bf+(bc?" "+a6:"")).prependTo(ek),ci(W,s||A,r||el.fit||c2.fit),bL.Fotorama.cache[x]=ei.state="loaded",setTimeout(function(){ek.trigger("f:load").removeClass(ae+" "+an).addClass(cG+" "+(bc?cv:b2)),"stage"===e&&eh("load")},5)}function ee(){var v=10;ck(function(){return !U||!v--&&!ai},function(){ef()})}if(ek){var bc=dV.fullScreen&&el.full&&el.full!==el.img&&!ei.$full&&"stage"===e;if(!ei.$img||j||bc){var Z=new Image,W=bL(Z),V=W.data();ei[bc?"$full":"$img"]=W;var C="stage"===e?bc?"full":"img":"thumb",x=el[C],g=bc?null:el["stage"===e?"thumb":"img"];if("navThumb"===e&&(ek=ei.$wrap),!x){return eg(),void 0}bL.Fotorama.cache[x]?!function f(){"error"===bL.Fotorama.cache[x]?eg():"loaded"===bL.Fotorama.cache[x]?setTimeout(ee,0):setTimeout(f,100)}():(bL.Fotorama.cache[x]="*",W.on("load",ee).on("error",eg)),ei.state="",Z.src=x}}})}function df(e){du.append(dm.spin().el).appendTo(e)}function dk(){du.detach(),dm&&dm.stop()}function cU(){var e=dV.activeFrame[am];e&&!e.data().state&&(df(e),e.on("f:load f:error",function(){e.off("f:load f:error"),dk()}))}function N(f,e){dO(f,e,function(j,x,w,v,s,r){v||(v=w[s]=h[s].clone(),r=v.data(),r.data=w,"stage"===e?(w.html&&bL('<div class="'+cy+'"></div>').append(w._html?bL(w.html).removeAttr("id").html(w._html):w.html).appendTo(v),c2.captions&&w.caption&&bL(b9(a7,b9(a0,w.caption))).appendTo(v),w.video&&v.addClass(bT).append(t.clone()),cN=cN.add(v)):"navDot"===e?J=J.add(v):"navThumb"===e&&(r.$wrap=v.children(":first"),n=n.add(v),w.video&&v.append(t.clone())))})}function d6(f,e,g){return f&&f.length&&ci(f,e,g)}function dN(e){dO(e,"stage",function(r,j,C,x,w,v){if(x){dh[am][bb(j)]=x.css(bL.extend({left:cT?0:bx(j,A.w,c2.margin,ea)},cT&&bB(0))),cl(x[0])&&(x.appendTo(dd),de(C.$video));var s=C.fit||c2.fit;d6(v.$img,A,s),d6(v.$full,A,s)}})}function dp(g,f){if("thumbs"===dU&&!isNaN(g)){var j=-g,i=-g+A.w;n.each(function(){var e=bL(this),w=e.data(),v=w.eq,s={h:p},r="cover";s.w=w.w,w.l+w.w<j||w.l>i||d6(w.$img,s,r)||f&&ac([v],"navThumb",s,r)})}}function dy(i,e,s){if(!dy[s]){var r="nav"===s&&dA,j=0;e.append(i.filter(function(){for(var v,g=bL(this),C=g.data(),x=0,w=o.length;w>x;x++){if(C.data===o[x]){v=!0,C.eq=x;break}}return v||g.remove()&&!1}).sort(function(g,f){return bL(g).data().eq-bL(f).data().eq}).each(function(){if(r){var g=bL(this),f=g.data(),v=Math.round(p*f.data.thumbratio)||M;f.l=j,f.w=v,g.css({width:v}),j+=v+c2.thumbmargin}})),dy[s]=!0}}function c7(e){return e-cR>A.w/3}function X(e){return !(ed||c3+e&&c3-d4+e||cZ)}function E(){H.toggleClass(aG,X(0)),l.toggleClass(aG,X(1))}function dC(){dT.ok&&(dT.prevent={"<":X(0),">":X(1)})}function d2(f){var e,i,g=f.data();return dA?(e=g.l,i=g.w):(e=f.position().left,i=f.width()),{c:e+i/2,min:-e+10*c2.thumbmargin,max:-e+A.w-i-10*c2.thumbmargin}}function O(f){var e=dV.activeFrame[b].data();b0(dl,{time:0.9*f,pos:e.l,width:e.w-2*c2.thumbborderwidth})}function d7(j){var i=o[j.guessIndex][b];if(i){var x=dK.min!==dK.max,w=x&&d2(dV.activeFrame[b]),v=x&&(j.keep&&d7.l?d7.l:bF((j.coo||A.w/2)-d2(i).c,w.min,w.max)),s=x&&bF(v,dK.min,dK.max),r=0.9*j.time;b0(cQ,{time:r,pos:s||0,onEnd:function(){dp(s,!0)}}),dF(dg,ce(s,dK.min,dK.max)),d7.l=v}}function dr(){z(b),dH[b].push(dV.activeFrame[b].addClass(a3))}function z(f){for(var e=dH[f];e.length;){e.shift().removeClass(a3)}}function dS(f){var e=dh[f];bL.each(u,function(g,i){delete e[bb(i)]}),bL.each(e,function(g,i){delete e[g],i.detach()})}function dD(f){ea=dQ=c3;var e=dV.activeFrame,g=e[am];g&&(z(am),dH[am].push(g.addClass(a3)),f||dV.show.onEnd(!0),bs(dd,0,!0),dS(am),dN(u),q(),d8())}function c9(f,e){f&&bL.extend(A,{width:f.width||A.width,height:f.height,minwidth:f.minwidth,maxwidth:f.maxwidth,minheight:f.minheight,maxheight:f.maxheight,ratio:b4(f.ratio)})&&!e&&bL.extend(c2,{width:A.width,height:A.height,minwidth:A.minwidth,maxwidth:A.maxwidth,minheight:A.minheight,maxheight:A.maxheight,ratio:A.ratio})}function ab(a,e){c6.trigger(cz+":"+a,[dV,e])}function G(){clearTimeout(d.t),U=1,c2.stopautoplayontouch?dV.stopAutoplay():dR=!0}function d(){d.t=setTimeout(function(){U=0},bi+bP)}function dX(){dR=!(!cZ&&!dx)}function ds(){if(clearTimeout(ds.t),!c2.autoplay||dR){return dV.autoplay&&(dV.autoplay=!1,ab("stopautoplay")),void 0}dV.autoplay||(dV.autoplay=!0,ab("startautoplay"));var f=c3,e=dV.activeFrame[am].data();ck(function(){return e.state||f!==c3},function(){ds.t=setTimeout(function(){dR||f!==c3||dV.show(ed?b1(!dn):bb(c3+(dn?-1:1)))},c2.autoplay)})}function k(){dV.fullScreen&&(dV.fullScreen=!1,az&&ak.cancel(Y),aV.removeClass(ch),a4.removeClass(ch),c6.removeClass(aE).insertAfter(dq),A=bL.extend({},c5),de(cZ,!0,!0),d0("x",!1),dV.resize(),ac(u,"stage"),b6(y,R),ab("fullscreenexit"))}function dF(f,e){dM&&(f.removeClass(bj+" "+ba),e&&!cZ&&f.addClass(e.replace(/^|\s/g," "+bR+"--")))}function de(f,e,g){e&&(h.removeClass(a1),cZ=!1,cO()),f&&f!==cZ&&(f.remove(),ab("unloadvideo")),g&&(dX(),ds())}function cP(e){h.toggleClass(aC,e)}function I(f){if(!ec.flow){var e=f?f.pageX:I.x,g=e&&!X(c7(e))&&c2.click;I.p===g||!cT&&c2.swipe||!dE.toggleClass(aW,g)||(I.p=g,I.x=e)}}function m(g,e){var j=g.target,i=bL(j);i.hasClass(bG)?dV.playVideo():j===P?dV[(dV.fullScreen?"cancel":"request")+"FullScreen"]():cZ?j===dP&&de(cZ,!0,!0):e?cP():c2.click&&dV.show({index:g.shiftKey||b1(c7(g._x)),slow:g.altKey,user:!0})}function d0(f,e){ec[f]=dz[f]=e}function dI(f,e){var g=bL(this).data().eq;dV.show({index:g,slow:f.altKey,user:!0,coo:f._x-dg.offset().left,time:e})}function di(){if(cV(),cb(),!di.i){di.i=!0;var e=c2.startindex;(e||c2.hash&&bM.hash)&&(B=cd(e||bM.hash.replace(/^#/,""),o,0===dV.index||e,e)),c3=ea=dQ=dw=B=dc(B)||0}if(d4){if(cS()){return}cZ&&de(cZ,!0),u=[],dS(am),dV.show({index:c3,time:0}),dV.resize()}else{dV.destroy()}}function cS(){return !cS.f===dn?(cS.f=dn,c3=d4-1-c3,dV.reverse(),!0):void 0}function L(){L.ok||(L.ok=!0,ab("ready"))}a4=a4||bL("html"),aV=aV||bL("body");var o,d4,dL,dm,cZ,Q,u,ea,dQ,dw,c4,T,B,ed,dU,dA,d1,dJ,dj,cT,M,p,d5,dM,dn,c0,R,y,eb,dR,dx,c5,U,D,b,dV=this,dB=bL.now(),c8=cz+dB,Y=c6[0],F=1,c=c6.data(),dW=bL("<style></style>"),dq=bL(b9(aM)),h=bL(b9(bI)),dE=bL(b9(cE)).appendTo(h),dd=(dE[0],bL(b9(bl)).appendTo(dE)),cN=bL(),H=bL(b9(aO+" "+ay)),l=bL(b9(aO+" "+ap)),dY=H.add(l).appendTo(dE),dG=bL(b9(cI)),dg=bL(b9(ag)).appendTo(dG),cQ=bL(b9(cx)).appendTo(dg),J=bL(),n=bL(),d3=dd.data(),dK=cQ.data(),dl=bL(b9(ah)).appendTo(cQ),cX=bL(b9(aw)),P=cX[0],t=bL(b9(bG)),d9=bL(b9(bg)).appendTo(dE),dP=d9[0],du=bL(b9(aR)),c3=!1,S={},A={},ec={},dT={},dz={},dZ={},dH={},dh={},cR=0,K=[];h[am]=bL(b9(ct)),h[cF]=bL(b9(aI+" "+ar,b9(cp))),h[ad]=bL(b9(aI+" "+aA,b9(aX))),dH[am]=[],dH[cF]=[],dH[ad]=[],dh[am]={},h.addClass(aP?a8:bh),c.fotorama=this,dV.startAutoplay=function(e){return dV.autoplay?this:(dR=dx=!1,cM(e||c2.autoplay),ds(),this)},dV.stopAutoplay=function(){return dV.autoplay&&(dR=dx=!0,ds()),this},dV.show=function(W){var V;"object"!=typeof W?(V=W,W={}):V=W.index,V=">"===V?dQ+1:"<"===V?dQ-1:"<<"===V?0:">>"===V?d4-1:V,V=isNaN(V)?cd(V,o,!0):V,V="undefined"==typeof V?c3||0:V,dV.activeIndex=c3=dc(V),c4=db(c3),T=da(c3),u=[c3,c4,T],dQ=ed?V:c3;var C=Math.abs(dw-dQ),x=br(W.time,function(){return Math.min(d5*(1+(C-1)/12),2*d5)}),w=W.overPos;W.slow&&(x*=10),dV.activeFrame=Q=o[c3],de(cZ,Q.i!==o[bb(ea)].i),N(u,"stage"),dN(ai?[dQ]:[dQ,db(dQ),da(dQ)]),d0("go",!0),ab("show",{user:W.user,time:x});var v=dV.show.onEnd=function(a){v.ok||(v.ok=!0,cU(),ac(u,"stage"),a||dD(!0),ab("showend",{user:W.user}),d0("go",!1),dC(),I(),dX(),ds())};if(cT){var s=Q[am],r=c3!==dw?o[dw][am]:null;bZ(s,r,cN,{time:x,method:c2.transition,onEnd:v},K)}else{b0(dd,{pos:-bx(dQ,A.w,c2.margin,ea),overPos:w,time:x,onEnd:v,_001:!0})}if(E(),dU){dr();var e=dv(c3+bF(dQ-dw,-1,1));d7({time:x,coo:e!==c3&&W.coo,guessIndex:"undefined"!=typeof W.coo?e:c3}),dA&&O(x)}return eb="undefined"!=typeof dw&&dw!==c3,dw=c3,c2.hash&&eb&&!dV.eq&&cj(Q.id||c3+1),this},dV.requestFullScreen=function(){return dJ&&!dV.fullScreen&&(R=af.scrollTop(),y=af.scrollLeft(),b6(0,0),d0("x",!0),c5=bL.extend({},A),c6.addClass(aE).appendTo(aV.addClass(ch)),a4.addClass(ch),de(cZ,!0,!0),dV.fullScreen=!0,dj&&ak.request(Y),dV.resize(),ac(u,"stage"),cU(),ab("fullscreenenter")),this},dV.cancelFullScreen=function(){return dj&&ak.is()?ak.cancel(bN):k(),this},bN.addEventListener&&bN.addEventListener(ak.event,function(){!o||ak.is()||cZ||k()},!1),dV.resize=function(j){if(!o){return this}c9(dV.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:b5(j),dV.fullScreen);var e=arguments[1]||0,x=arguments[2],w=A.width,v=A.height,s=A.ratio,r=af.height()-(dU?dg.height():0);return by(w)&&(h.css({width:w,minWidth:A.minwidth,maxWidth:A.maxwidth}),w=A.W=A.w=h.width(),c2.glimpse&&(A.w-=Math.round(2*(bz(c2.glimpse)/100*w||bA(c2.glimpse)||0))),dd.css({width:A.w,marginLeft:(A.W-A.w)/2}),v=bz(v)/100*r||bA(v),v=v||s&&w/s,v&&(w=Math.round(w),v=A.h=Math.round(bF(v,bz(A.minheight)/100*r||bA(A.minheight),bz(A.maxheight)/100*r||bA(A.maxheight))),dD(),dE.addClass(be).stop().animate({width:w,height:v},e,function(){dE.removeClass(be)}),dU&&(dg.stop().animate({width:w},e),d7({guessIndex:c3,time:e,keep:!0}),dA&&dy.nav&&O(e)),c0=x||!0,L())),cR=dE.offset().left,this},dV.setOptions=function(e){return bL.extend(c2,e),di(),this},dV.shuffle=function(){return o&&b8(o)&&di(),this},dV.destroy=function(){return dV.cancelFullScreen(),dV.stopAutoplay(),o=dV.data=null,cW(),u=[],dS(am),this},dV.playVideo=function(){var f=dV.activeFrame,e=f.video,g=c3;return"object"==typeof e&&f.videoReady&&(dj&&dV.fullScreen&&dV.cancelFullScreen(),ck(function(){return !ak.is()||g!==c3},function(){g===c3&&(f.$video=f.$video||bL(bL.Fotorama.jst.video(e)),f.$video.appendTo(f[am]),h.addClass(a1),cZ=f.$video,cO(),ab("loadvideo"))})),this},dV.stopVideo=function(){return de(cZ,!0,!0),this},dE.on("mousemove",I),ec=bW(dd,{onStart:G,onMove:function(f,e){dF(dE,e.edge)},onTouchEnd:d,onEnd:function(f){dF(dE);var e=(cB&&!D||f.touch)&&c2.arrows;if(f.moved||e&&f.pos!==f.newPos){var g=bw(f.newPos,A.w,c2.margin,ea);dV.show({index:g,time:cT?d5:f.time,overPos:f.overPos,user:!0})}else{f.aborted||m(f.startEvent,e)}},getPos:function(){return -bx(dQ,A.w,c2.margin,ea)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+aU+", ."+aU+" *",$wrap:dE}),dz=bW(cQ,{onStart:G,onMove:function(f,e){dF(dg,e.edge)},onTouchEnd:d,onEnd:function(f){function e(){d7.l=f.newPos,dX(),ds(),dp(f.newPos,!0)}if(f.moved){f.pos!==f.newPos?(b0(cQ,{time:f.time,pos:f.newPos,overPos:f.overPos,onEnd:e}),dp(f.newPos),dM&&dF(dg,ce(f.newPos,dK.min,dK.max))):e()}else{var g=f.$target.closest("."+aI,cQ)[0];g&&dI.call(g,f.startEvent)}},timeLow:0.5,timeHigh:2,friction:5,$wrap:dg}),dT=bV(dE,{shift:!0,onEnd:function(f,e){G(),d(),dV.show({index:e,slow:f.altKey})}}),dZ=bV(dg,{onEnd:function(f,e){G(),d();var g=bs(cQ)+0.25*e;cQ.css(bC(bF(g,dK.min,dK.max))),dM&&dF(dg,ce(g,dK.min,dK.max)),dZ.prevent={"<":g>=dK.max,">":g<=dK.min},clearTimeout(dZ.t),dZ.t=setTimeout(function(){dp(g,!0)},bP),dp(g)}}),h.hover(function(){setTimeout(function(){U||(D=!0,cP(!D))},0)},function(){D&&(D=!1,cP(!D))}),ca(dY,function(e){b3(e),dV.show({index:dY.index(this)?">":"<",slow:e.altKey,user:!0})},{onStart:function(){G(),ec.control=!0},onTouchEnd:d,tail:ec}),bL.each("load push pop shift unshift reverse sort splice".split(" "),function(f,e){dV[e]=function(){return o=o||[],"load"!==e?Array.prototype[e].apply(o,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(o=b7(arguments[0])),di(),dV}}),di()},bL.fn.fotorama=function(a){return this.each(function(){var i=this,h=bL(this),d=h.data(),b=d.fotorama;b?b.setOptions(a):ck(function(){return !cm(i)},function(){d.urtext=h.html(),new bL.Fotorama(h,bL.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:aT,glimpse:0,nav:"dots",navposition:"bottom",thumbwidth:aL,thumbheight:aL,thumbmargin:aT,thumbborderwidth:aT,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:bi,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},bO.fotoramaDefaults,a,d))})})},bL.Fotorama.instances=[],bL.Fotorama.cache={},bL.Fotorama.measures={},bL=bL||{},bL.Fotorama=bL.Fotorama||{},bL.Fotorama.jst=bL.Fotorama.jst||{},bL.Fotorama.jst.style=function(e){var d,f="";return aB.escape,f+=".fotorama"+(null==(d=e.s)?"":d)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(d=e.m)?"":d)+"px;\nheight:"+(null==(d=e.h)?"":d)+"px}\n.fotorama"+(null==(d=e.s)?"":d)+" .fotorama__thumb-border{\nheight:"+(null==(d=e.h-e.b*(e.q?0:2))?"":d)+"px;\nborder-width:"+(null==(d=e.b)?"":d)+"px;\nmargin-top:"+(null==(d=e.m)?"":d)+"px}"},bL.Fotorama.jst.video=function(f){function e(){h+=g.call(arguments,"")}var h="",g=(aB.escape,Array.prototype.join);return h+='<div class="fotorama__video"><iframe src="',e(("youtube"==f.type?"http://youtube.com/embed/"+f.id+"?autoplay=1":"vimeo"==f.type?"http://player.vimeo.com/video/"+f.id+"?autoplay=1&badge=0":f.id)+(f.s&&"custom"!=f.type?"&"+f.s:"")),h+='" frameborder="0" allowfullscreen></iframe></div>'},bL(function(){bL("."+cz+':not([data-auto="false"])').fotorama()})}(window,document,location,window.jQuery);
/*! ScrollNav 2.1.0
*
*/
(function(b){var a=function(g,h,k,f){if(b(g).length>0){var j=b(g).offset().top;h=f?h:0,b("html:not(:animated),body:not(:animated)").animate({scrollTop:j-k},h)}},c=function(){return window.location.hash},d={classes:{loading:"sn-loading",failed:"sn-failed",success:"sn-active"},defaults:{sections:"h2",subSections:!1,sectionElem:"section",showHeadline:!0,headlineText:"Scroll To",showTopLink:!0,topLinkText:"Top",fixedMargin:40,scrollOffset:40,animated:!0,speed:500,insertLocation:"insertBefore",arrowKeys:!1,onInit:null,onRender:null,onDestroy:null},_set_body_class:function(f){var g=b("body");"loading"===f?g.addClass(d.classes.loading):"success"===f?g.removeClass(d.classes.loading).addClass(d.classes.success):g.removeClass(d.classes.loading).addClass(d.classes.failed)},_find_sections:function(g){var h=d.settings.sections,f=[];if(d.settings.showTopLink){var j=g.children().first();j.is(h)||f.push(j.nextUntil(h).andSelf())}g.find(h).each(function(){f.push(b(this).nextUntil(h).andSelf())}),d.sections={raw:f}},_setup_sections:function(f){var g=[];b(f).each(function(k){var j=[],p=b(this),h="scrollNav-"+(k+1),e=function(){return 0===k},q=function(){return !p.eq(0).is(d.settings.sections)},m=d.settings.showTopLink&&e()&&q()?d.settings.topLinkText:p.filter(d.settings.sections).text();if(p.wrapAll("<"+d.settings.sectionElem+' id="'+h+'" class="scroll-nav__section" />'),d.settings.subSections){var n=p.filter(d.settings.subSections);n.length>0&&n.each(function(o){var r=h+"-"+(o+1),s=b(this).text(),i=p.filter(b(this).nextUntil(n).andSelf());i.wrapAll('<div id="'+r+'" class="scroll-nav__sub-section" />'),j.push({id:r,text:s})})}g.push({id:h,text:m,sub_sections:j})}),d.sections.data=g},_tear_down_sections:function(e){b(e).each(function(){var f=this.sub_sections;b("#"+this.id).children().unwrap(),f.length>0&&b(f).each(function(){b("#"+this.id).children().unwrap()})})},_setup_nav:function(h){var j=b("<span />",{"class":"scroll-nav__heading",text:d.settings.headlineText}),g=b("<div />",{"class":"scroll-nav__wrapper"}),k=b("<nav />",{"class":"scroll-nav",role:"navigation"}),f=b("<ol />",{"class":"scroll-nav__list"});b.each(h,function(m){var o,p=0===m?b("<li />",{"class":"scroll-nav__item active"}):b("<li />",{"class":"scroll-nav__item"}),l=b("<a />",{href:"#"+this.id,"class":"scroll-nav__link",text:this.text});this.sub_sections.length>0&&(p.addClass("is-parent-item"),o=b("<ol />",{"class":"scroll-nav__sub-list"}),b.each(this.sub_sections,function(){var e=b("<li />",{"class":"scroll-nav__sub-item"}),i=b("<a />",{href:"#"+this.id,"class":"scroll-nav__sub-link",text:this.text});o.append(e.append(i))})),f.append(p.append(l).append(o))}),d.settings.showHeadline?k.append(g.append(j).append(f)):k.append(g.append(f)),d.nav=k},_insert_nav:function(){var f=d.settings.insertLocation,e=d.settings.insertTarget;d.nav[f](e)},_setup_pos:function(){var g=d.nav,h=b(window).height(),f=g.offset().top;b.each(d.sections.data,function(){var i=b("#"+this.id),j=i.height();this.top_offset=i.offset().top,this.bottom_offset=this.top_offset+j}),d.dims={vp_height:h,nav_offset:f}},_check_pos:function(){var h=d.nav,j=b(window).scrollTop(),g=j+d.settings.scrollOffset,k=j+d.dims.vp_height-d.settings.scrollOffset,f=[];j>d.dims.nav_offset-d.settings.fixedMargin?h.addClass("fixed"):h.removeClass("fixed"),b.each(d.sections.data,function(){(this.top_offset>g&&k>this.top_offset||this.bottom_offset>g&&k>this.bottom_offset||g>this.top_offset&&this.bottom_offset>k)&&f.push(this)}),h.find(".scroll-nav__item").removeClass("active").removeClass("in-view"),b.each(f,function(e){0===e?h.find('a[href="#'+this.id+'"]').parents(".scroll-nav__item").addClass("active").addClass("in-view"):h.find('a[href="#'+this.id+'"]').parents(".scroll-nav__item").addClass("in-view"),e++,d.sections.active=f})},_init_scroll_listener:function(){b(window).on("scroll",function(){d._check_pos()})},_rm_scroll_listeners:function(){b(window).off("scroll")},_init_resize_listener:function(){b(window).on("resize",function(){d._setup_pos(),d._check_pos()})},_rm_resize_listener:function(){b(window).off("resize")},_init_click_listener:function(){b(".scroll-nav").find("a").click(function(j){j.preventDefault();var h=b(this).attr("href"),k=d.settings.speed,g=d.settings.scrollOffset,f=d.settings.animated;a(h,k,g,f)})},_init_keyboard_listener:function(f){d.settings.arrowKeys&&b(document).on("keydown",function(j){if(40===j.keyCode||38===j.keyCode){var h=function(r){var q=0,p=f.length;for(q;p>q;q++){if(f[q].id===d.sections.active[0].id){var u=40===r?q+1:q-1,l=void 0===f[u]?void 0:f[u].id;return l}}},m=h(j.keyCode);if(void 0!==m){j.preventDefault();var g="#"+m,e=d.settings.speed,n=d.settings.scrollOffset,k=d.settings.animated;a(g,e,n,k)}}})},_rm_keyboard_listener:function(){b(document).off("keydown")},init:function(e){return this.each(function(){var f=b(this);d.settings=b.extend({},d.defaults,e),d.settings.insertTarget=d.settings.insertTarget?b(d.settings.insertTarget):f,f.length>0?(d.settings.onInit&&d.settings.onInit.call(this),d._set_body_class("loading"),d._find_sections(f),f.find(d.settings.sections).length>0?(d._setup_sections(d.sections.raw),d._setup_nav(d.sections.data),d.settings.insertTarget.length>0?(d._insert_nav(),d._setup_pos(),d._check_pos(),d._init_scroll_listener(),d._init_resize_listener(),d._init_click_listener(),d._init_keyboard_listener(d.sections.data),d._set_body_class("success"),a(c()),d.settings.onRender&&d.settings.onRender.call(this)):(console.log('Build failed, scrollNav could not find "'+d.settings.insertTarget+'"'),d._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find any "'+d.settings.sections+'s" inside of "'+f.selector+'"'),d._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find "'+f.selector+'"'),d._set_body_class("failed"))})},destroy:function(){return this.each(function(){d._rm_scroll_listeners(),d._rm_resize_listener(),d._rm_keyboard_listener(),b("body").removeClass("sn-loading sn-active sn-failed"),b(".scroll-nav").remove(),d._tear_down_sections(d.sections.data),d.settings.onDestroy&&d.settings.onDestroy.call(this),d.settings=[],d.sections=void 0})}};b.fn.scrollNav=function(){var f,g=arguments[0];if(d[g]){g=d[g],f=Array.prototype.slice.call(arguments,1)}else{if("object"!=typeof g&&g){return b.error("Method "+g+" does not exist in the scrollNav plugin"),this}g=d.init,f=arguments}return g.apply(this,f)}})(jQuery);
/*!
* Wookmark 1.4.4
*/
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(b){var a,d,c;c=function(f,e){return function(){return f.apply(e,arguments)}},d={align:"center",autoResize:!1,comparator:null,container:b("body"),ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,direction:void 0,offset:2,onLayoutChanged:void 0,outerOffset:0,resizeDelay:50,possibleFilters:[]},a=function(){function e(p,q){this.handler=p,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],b.extend(!0,this,d,q),this.update=c(this.update,this),this.onResize=c(this.onResize,this),this.onRefresh=c(this.onRefresh,this),this.getItemWidth=c(this.getItemWidth,this),this.layout=c(this.layout,this),this.layoutFull=c(this.layoutFull,this),this.layoutColumns=c(this.layoutColumns,this),this.filter=c(this.filter,this),this.clear=c(this.clear,this),this.getActiveItems=c(this.getActiveItems,this),this.refreshPlaceholders=c(this.refreshPlaceholders,this),this.sortElements=c(this.sortElements,this);for(var j,k,g,w=0,m=0,s=0,x={};p.length>w;w++){if(k=p.eq(w),j=k.data("filterClass"),"object"==typeof j&&j.length>0){for(m=0;j.length>m;m++){g=b.trim(j[m]).toLowerCase(),g in x||(x[g]=[]),x[g].push(k[0])}}}for(var v=this.possibleFilters;v.length>s;s++){var t=b.trim(v[s]).toLowerCase();t in x||(x[t]=[])}this.filterClasses=x,this.autoResize&&b(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return e.prototype.update=function(f){this.itemHeightsDirty=!0,b.extend(!0,this,f)},e.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},e.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},e.prototype.filter=function(t,x){var C,v,j,k,g,A=[],q=b();if(t=t||[],x=x||"or",t.length){for(v=0;t.length>v;v++){g=b.trim(t[v].toLowerCase()),g in this.filterClasses&&A.push(this.filterClasses[g])}if(C=A.length,"or"==x||1==C){for(v=0;C>v;v++){q=q.add(A[v])}}else{if("and"==x){var w,B,z,y=A[0],p=!0;for(v=1;C>v;v++){A[v].length<y.length&&(y=A[v])}for(y=y||[],v=0;y.length>v;v++){for(B=y[v],p=!0,j=0;A.length>j&&p;j++){if(z=A[j],y!=z){for(k=0,w=!1;z.length>k&&!w;k++){w=z[k]==B}p&=w}}p&&q.push(y[v])}}}this.handler.not(q).addClass("inactive")}else{q=this.handler}q.removeClass("inactive"),this.columns=null,this.layout()},e.prototype.refreshPlaceholders=function(p,v){for(var y,q,j,k,g,w,m=this.placeholders.length,t=this.columns.length,x=this.container.innerHeight();t>m;m++){y=b('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(y)}for(w=this.offset+2*parseInt(this.placeholders[0].css("borderWidth"),10),m=0;this.placeholders.length>m;m++){if(y=this.placeholders[m],j=this.columns[m],m>=t||!j[j.length-1]){y.css("display","none")}else{if(q=j[j.length-1],!q){continue}g=q.data("wookmark-top")+q.data("wookmark-height")+this.offset,k=x-g-w,y.css({position:"absolute",display:k>0?"block":"none",left:m*p+v,top:g,width:p-w,height:k})}}},e.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},e.prototype.getItemWidth=function(){var g=this.itemWidth,f=this.container.width()-2*this.outerOffset,l=this.handler.eq(0),k=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?g=l.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(g=parseFloat(this.itemWidth)/100*f),k){"string"==typeof k&&k.indexOf("%")>=0&&(k=parseFloat(k)/100*f);var j=~~(0.5+(f+this.offset)/(k+this.offset)),m=Math.min(k,~~((f-(j-1)*this.offset)/j));g=Math.max(g,m),this.handler.css("width",g)}return g},e.prototype.layout=function(x){if(this.container.is(":visible")){var p,v=this.getItemWidth()+this.offset,y=this.container.width(),q=y-2*this.outerOffset,j=~~((q+this.offset)/v),k=0,g=0,w=0,m=this.getActiveItems(),u=m.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;u>w;w++){p=m.eq(w),p.data("wookmark-height",p.outerHeight())}this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}j=Math.max(1,Math.min(j,u)),k=this.outerOffset,"center"==this.align&&(k+=~~(0.5+(q-(j*v-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),g=x||null===this.columns||this.columns.length!=j||this.activeItemCount!=u?this.layoutFull(v,j,k):this.layoutColumns(v,k),this.activeItemCount=u,this.container.css("height",g),this.fillEmptySpace&&this.refreshPlaceholders(v,k),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},e.prototype.sortElements=function(f){return"function"==typeof this.comparator?f.sort(this.comparator):f},e.prototype.layoutFull=function(t,x,C){var v,j,k=0,g=0,A=b.makeArray(this.getActiveItems()),q=A.length,w=null,B=null,z={position:"absolute"},y=[],p="left"==this.align?!0:!1;for(this.columns=[],A=this.sortElements(A);x>y.length;){y.push(this.outerOffset),this.columns.push([])}for(;q>k;k++){for(v=b(A[k]),w=y[0],B=0,g=0;x>g;g++){w>y[g]&&(w=y[g],B=g)}j=C,(B>0||!p)&&(j+=B*t),z[this.direction]=j,z.top=w,v.css(z).data("wookmark-top",w),y[B]+=v.data("wookmark-height")+this.offset,this.columns[B].push(v)}return Math.max.apply(Math,y)},e.prototype.layoutColumns=function(v,m){for(var q,w,p,g,j,f=[],u=0,k=0;this.columns.length>u;u++){for(f.push(this.outerOffset),w=this.columns[u],j=u*v+m,q=f[u],k=0;w.length>k;k++){p=w[k],g={top:q},g[this.direction]=j,p.css(g).data("wookmark-top",q),q+=p.data("wookmark-height")+this.offset}f[u]=q}return Math.max.apply(Math,f)},e.prototype.clear=function(){clearTimeout(this.resizeTimer),b(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh)},e}(),b.fn.wookmark=function(e){return this.wookmarkInstance?this.wookmarkInstance.update(e||{}):this.wookmarkInstance=new a(this,e||{}),this.wookmarkInstance.layout(!0),this.show()}});
/*!
* imagesLoaded PACKAGED v3.0.4
*/
(function(){function b(){}function a(f,d){for(var g=f.length;g--;){if(f[g].listener===d){return g}}return -1}var c=b.prototype;c.getListeners=function(g){var f,h,d=this._getEvents();if("object"==typeof g){f={};for(h in d){d.hasOwnProperty(h)&&g.test(h)&&(f[h]=d[h])}}else{f=d[g]||(d[g]=[])}return f},c.flattenListeners=function(f){var d,g=[];for(d=0;f.length>d;d+=1){g.push(f[d].listener)}return g},c.getListenersAsObject=function(f){var d,g=this.getListeners(f);return g instanceof Array&&(d={},d[f]=g),d||g},c.addListener=function(g,j){var d,f=this.getListenersAsObject(g),h="object"==typeof j;for(d in f){f.hasOwnProperty(d)&&-1===a(f[d],j)&&f[d].push(h?j:{listener:j,once:!1})}return this},c.on=c.addListener,c.addOnceListener=function(f,d){return this.addListener(f,{listener:d,once:!0})},c.once=c.addOnceListener,c.defineEvent=function(d){return this.getListeners(d),this},c.defineEvents=function(f){for(var d=0;f.length>d;d+=1){this.defineEvent(f[d])}return this},c.removeListener=function(g,j){var d,f,h=this.getListenersAsObject(g);for(f in h){h.hasOwnProperty(f)&&(d=a(h[f],j),-1!==d&&h[f].splice(d,1))}return this},c.off=c.removeListener,c.addListeners=function(f,d){return this.manipulateListeners(!1,f,d)},c.removeListeners=function(f,d){return this.manipulateListeners(!0,f,d)},c.manipulateListeners=function(j,f,l){var d,h,k=j?this.removeListener:this.addListener,g=j?this.removeListeners:this.addListeners;if("object"!=typeof f||f instanceof RegExp){for(d=l.length;d--;){k.call(this,f,l[d])}}else{for(d in f){f.hasOwnProperty(d)&&(h=f[d])&&("function"==typeof h?k.call(this,d,h):g.call(this,d,h))}}return this},c.removeEvent=function(g){var f,h=typeof g,d=this._getEvents();if("string"===h){delete d[g]}else{if("object"===h){for(f in d){d.hasOwnProperty(f)&&g.test(f)&&delete d[f]}}else{delete this._events}}return this},c.emitEvent=function(j,f){var l,d,h,k,g=this.getListenersAsObject(j);for(h in g){if(g.hasOwnProperty(h)){for(d=g[h].length;d--;){l=g[h][d],k=l.listener.apply(this,f||[]),(k===this._getOnceReturnValue()||l.once===!0)&&this.removeListener(j,g[h][d].listener)}}}return this},c.trigger=c.emitEvent,c.emit=function(f){var d=Array.prototype.slice.call(arguments,1);return this.emitEvent(f,d)},c.setOnceReturnValue=function(d){return this._onceReturnValue=d,this},c._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},c._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this),function(d){var b=document.documentElement,f=function(){};b.addEventListener?f=function(h,g,i){h.addEventListener(g,i,!1)}:b.attachEvent&&(f=function(g,h,e){g[h+e]=e.handleEvent?function(){var i=d.event;i.target=i.target||i.srcElement,e.handleEvent.call(e,i)}:function(){var i=d.event;i.target=i.target||i.srcElement,e.call(g,i)},g.attachEvent("on"+h,g[h+e])});var a=function(){};b.removeEventListener?a=function(h,g,i){h.removeEventListener(g,i,!1)}:b.detachEvent&&(a=function(j,h,k){j.detachEvent("on"+h,j[h+k]);try{delete j[h+k]}catch(g){j[h+k]=void 0}});var c={bind:f,unbind:a};"function"==typeof define&&define.amd?define(c):d.eventie=c}(this),function(h){function l(c,a){for(var i in a){c[i]=a[i]}return c}function f(a){return"[object Array]"===j.call(a)}function g(o){var c=[];if(f(o)){c=o}else{if("number"==typeof o.length){for(var a=0,n=o.length;n>a;a++){c.push(o[a])}}else{c.push(o)}}return c}function b(o,q){function a(t,u,r){if(!(this instanceof a)){return new a(t,u)}"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=g(t),this.options=l({},this.options),"function"==typeof u?r=u:l(this.options,u),r&&this.on("always",r),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var c=this;setTimeout(function(){c.check()})}function p(c){this.img=c}a.prototype=new o,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var x=0,u=this.elements.length;u>x;x++){var z=this.elements[x];"IMG"===z.nodeName&&this.addImage(z);for(var c=z.querySelectorAll("img"),w=0,y=c.length;y>w;w++){var v=c[w];this.addImage(v)}}},a.prototype.addImage=function(n){var c=new p(n);this.images.push(c)},a.prototype.check=function(){function v(t,n){return s.options.debug&&k&&m.log("confirm",t,n),s.progress(t),x++,x===c&&s.complete(),!0}var s=this,x=0,c=this.images.length;if(this.hasAnyBroken=!1,!c){return this.complete(),void 0}for(var u=0;c>u;u++){var w=this.images[u];w.on("confirm",v),w.check()}},a.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,n),c.jqDeferred&&c.jqDeferred.notify(c,n)})},a.prototype.complete=function(){var n=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(n,c),c.emit("always",c),c.jqDeferred){var e=c.hasAnyBroken?"reject":"resolve";c.jqDeferred[e](c)}})},d&&(d.fn.imagesLoaded=function(r,c){var s=new a(this,r,c);return s.jqDeferred.promise(d(this))});var i={};return p.prototype=new o,p.prototype.check=function(){var n=i[this.img.src];if(n){return this.useCached(n),void 0}if(i[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var c=this.proxyImage=new Image;q.bind(c,"load",this),q.bind(c,"error",this),c.src=this.img.src},p.prototype.useCached=function(n){if(n.isConfirmed){this.confirm(n.isLoaded,"cached was confirmed")}else{var c=this;n.on("confirm",function(r){return c.confirm(r.isLoaded,"cache emitted confirmed"),!0})}},p.prototype.confirm=function(n,c){this.isConfirmed=!0,this.isLoaded=n,this.emit("confirm",this,c)},p.prototype.handleEvent=function(n){var c="on"+n.type;this[c]&&this[c](n)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},p.prototype.unbindProxyEvents=function(){q.unbind(this.proxyImage,"load",this),q.unbind(this.proxyImage,"error",this)},a}var d=h.jQuery,m=h.console,k=m!==void 0,j=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],b):h.imagesLoaded=b(h.EventEmitter,h.eventie)}(window);
/*!
* Parallax
*/
(function(a){a.fn.parallax=function(b){var d=a(window).height();var c=a.extend({speed:0.15},b);return this.each(function(){var e=a(this);a(document).scroll(function(){var h=a(window).scrollTop();var i=e.offset().top;var f=e.outerHeight();if(i+f<=h||i>=h+d){return}var g=Math.round((i-h)*c.speed);e.css({transform:"translate3d(0px,"+g+"px, 0px)"})})})}}(jQuery));jQuery(document).ready(function(){jQuery(".aesop-video-container").fitVids()});